{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/elements/Popup.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/elements/FormElements.js","components/elements/RoomInfo.js","components/elements/RoomCreate.js","components/elements/RoomDetails.js","static/img/information-fill.svg","components/elements/Lobby.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","static/img/list-check.svg","components/elements/Room.js","components/elements/Leftbar.js","static/img/send-plane-line.svg","static/img/chat-4-line.svg","static/img/arrow-up-down-line.svg","static/img/close-fill.svg","components/elements/Chat.js","components/elements/Settings.js","static/img/menu-line.svg","static/img/sound-module-line.svg","components/elements/Topbar.js","components/App.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","static/css/roomInfo.module.css","static/css/popup.module.css","static/css/formElements.module.css","static/css/lobby.module.css","static/css/room.module.css","static/css/leftbar.module.css","static/css/chat.module.css","static/css/topbar.module.css","static/css/app.module.css"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Popup","className","styles","popup","onClick","props","setWindow","e","stopPropagation","this","children","React","Component","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Select","change","setState","displayList","selected","name","state","data","prop","select","disabled","undefined","getValueByName","map","element","type","InputNumber","label","other","number","Checkbox","checkbox","Input","input","InputTextSubmit","onSubmit","InputButtonSubmit","button","Button","RoomInfo","renderSettings","gameId","roundsForWin","min","max","onChange","timeTurn","boardSize","cellsForWin","selectGame","gameGeneral","usePw","private","autostart","roomInfo","roomId","placeholder","checked","users","user","connected","disconnected","userId","userName","CreateNewRoom","createRoom","preventDefault","settings","pw","localStorage","getItem","gameProps","getPropsByGameId","ws","send","JSON","stringify","RoomDetails","joinRoom","started","_extends","assign","hasOwnProperty","_ref2","fill","d","_ref3","SvgInformationFill","_ref","svgRef","title","titleId","viewBox","width","height","ref","id","ForwardRef","Lobby","createNewRoom","match","params","connectById","lobbyList","privateRoomId","emitter","WebSocket","onopen","token","emit","onmessage","messageParsed","parse","setItem","alert","onerror","close","nextProps","lobby","autoComplete","room","to","DisplayRoom","players","tags","result","tag","moreDetails","leave","some","item","reconnect","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","SvgListCheck","Tictactoe","lazy","Room","componentWillMount","emitterUnsubPrivateChat","sub","emitterUnsubAction","gameInfo","chat","prevState","newArrayUsers","onclose","startTheGame","redirectToLobby","getGameComponent","btnToLobby","creator","Left","leftbarDisplay","leftbar","games","leftbarStateBtn","SvgSendPlaneLine","SvgChat4Line","SvgArrowUpDownLine","SvgCloseFill","Chat","componentWillUnmount","emitterUnsubGlobal","emitterUnsubDisplayGlobalChat","emitterUnsubPrivate","emitterUnsubPrivateChatHistory","messageValue","inputMessage","messageSendObject","text","messageDisplayObject","date","Date","now","globalChat","globalMessage","privateMessage","console","log","prints","msg","msgsG","msgsP","displayChat","hidden","concat","code","msgData","boolen","msgsNewRoomArray","elementOfMsgsP","chatDisplay","global","msgs","autocomplete","chatStateBtn","Messages","toLocaleString","minute","hour","system","Settings","componentShouldUpdate","displayButton","saveChanges","SvgMenuLine","SvgSoundModuleLine","ManualTictactoe","ManualSeabattle","ManualSapper","ManualReversi","Support","Rules","Topbar","showManual","popupWindow","showSettings","showRules","showSupport","displayGameName","displayMenu","topbar","App","popupElement","Emitter","Granim","direction","states","gradients","transitionSpeed","path","render","page","Leftbar","events","eventName","fun","eventFn","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","done","_e","f","err","normalCompletion","didErr","step","next","_e2","_unsupportedIterableToArray","minLen","toString","slice","constructor","test","_arrayLikeToArray","len","arr2","module","exports"],"mappings":"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","file":"static/js/4.6dd99496.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from \"react\";\r\nimport styles from '../../static/css/popup.module.css'\r\n\r\nclass Popup extends React.Component {\r\n  render() {\r\n    return(\r\n      <>\r\n        <div className={styles.popup} onClick={() => this.props.setWindow(null) } >\r\n          <div onClick={e => e.stopPropagation()}>\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\nexport default Popup;","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\r\nimport styles from '../../static/css/formElements.module.css'\r\nclass Select extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      displayList: false,\r\n      selected: this.props.selected,\r\n    }\r\n  }\r\n  change = (e) => {\r\n    this.props.onClick(e)\r\n    this.setState({\r\n      displayList: false,\r\n      selected: e.target.name,\r\n    })\r\n  }\r\n  getValueByName() {\r\n    for(let prop of this.props.data) {\r\n      if (prop.name===this.state.selected) return prop.value\r\n    }\r\n  }\r\n  render() {\r\n    return(\r\n      <div className={styles.select} onClick={this.props.disabled?undefined:() => this.setState({displayList: this.state.displayList?false:true})} >\r\n        <div>{this.getValueByName()}</div>\r\n        {!this.state.displayList?null:\r\n          <div>\r\n            {this.props.data.map(element => <button {...element} type=\"button\" onClick={this.change}>{element.value}</button>)}\r\n          </div>\r\n        }\r\n        <input name={this.props.name} value={this.state.selected} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nfunction InputNumber(props) {\r\n  const {label, ...other} = props\r\n  return(\r\n  <div className={styles.number}>\r\n    <label>\r\n      <input  {...other} type=\"number\" />\r\n      <div>{label}</div>\r\n    </label>\r\n  </div>\r\n  )\r\n}\r\n\r\nfunction Checkbox(props) {\r\n  const {label, ...other} = props\r\n  return(\r\n    <div className={styles.checkbox}>\r\n        <label>\r\n          <input {...other} type=\"checkbox\"/>\r\n          <div>{label}</div>\r\n        </label>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Input(props) {\r\n    return(\r\n      <div className={styles.input}>\r\n        <input {...props} type=\"text\" />\r\n      </div>\r\n    )\r\n}\r\nfunction InputTextSubmit(props) {\r\n    const {onSubmit, children, ...other} = props\r\n    return(\r\n      <form className={styles.input} onSubmit={onSubmit}>\r\n        <input {...other} type=\"text\" />\r\n        <label>\r\n          <input type=\"submit\"/>\r\n          {children}\r\n        </label>\r\n      </form>\r\n    )\r\n}\r\nfunction InputButtonSubmit(props) {\r\n  const {children, ...other} = props\r\n  return(<input className={styles.button} type=\"submit\" {...other} value={children} />)\r\n}\r\nfunction Button(props) {\r\n  const {children, ...other} = props\r\n  return(<button className={styles.button} {...other}>{children}</button>)\r\n}\r\n\r\nexport {Input, Select, InputNumber, Checkbox, InputTextSubmit, InputButtonSubmit, Button};","import React from \"react\";\r\nimport {Input, InputNumber, Select, Checkbox} from '../elements/FormElements';\r\nimport styles from '../../static/css/roomInfo.module.css'\r\n\r\nclass RoomInfo extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: props.name,\r\n      gameId: props.gameId,\r\n      usePw: props.usePw||false,\r\n      private: props.private||false,\r\n      autostart: props.autostart||true,\r\n      max: props.max||2,\r\n    }\r\n  }\r\n  renderSettings = () => {\r\n    switch (this.state.gameId) {\r\n      case \"tictactoe\":  \r\n        return(\r\n        <>\r\n          <InputNumber label=\"Количество раундов для победы\" \r\n            name=\"roundsForWin\"\r\n            value={this.state.roundsForWin}\r\n            min={3} max={20}\r\n            onChange={(e) => this.setState({roundsForWin: e.target.value>=3&&e.target.value<=20?e.target.value:5})}\r\n            />\r\n          <InputNumber label=\"Время на ход\" \r\n            name=\"timeTurn\"\r\n            value={this.state.timeTurn}\r\n            min={5} max={60}\r\n            onChange={(e) => this.setState({timeTurn: e.target.value>=5&&e.target.value<=60?e.target.value:20})} \r\n            />\r\n          <InputNumber label=\"Размер поля\" \r\n            name=\"boardSize\"\r\n            value={this.state.boardSize}\r\n            min={3} max={40}\r\n            onChange={(e) => this.setState({boardSize: e.target.value>=3&&e.target.value<=40?e.target.value:19})} \r\n            />\r\n          <InputNumber label=\"Длина ряда для победы\" \r\n            name=\"cellsForWin\"\r\n            value={this.state.cellsForWin}\r\n            min={3} max={this.state.boardSize}\r\n            onChange={(e) => this.setState({cellsForWin: e.target.value>=3&&e.target.value<=this.state.boardSize?e.target.value:3})} \r\n            />  \r\n        </>)\r\n      default: return\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.selectGame()\r\n  }\r\n  selectGame = (e) => {\r\n    const gameId = e!==undefined?e.target.name:this.state.gameId\r\n    let gameGeneral \r\n    switch(gameId) {\r\n      case 'tictactoe': gameGeneral = {\r\n        min: 2,\r\n        max: 3,\r\n      }\r\n      this.setState({\r\n        roundsForWin: 5,\r\n        timeTurn: 20,\r\n        boardSize: 19,\r\n        cellsForWin: 5,\r\n      })\r\n      break\r\n      case 'sapper': gameGeneral = {\r\n        min: 2,\r\n        max: 2,\r\n      }\r\n      break\r\n      case 'reversi': gameGeneral = {\r\n        min: 2,\r\n        max: 2,\r\n      }\r\n      break\r\n      default: break\r\n    }\r\n    this.setState({\r\n      gameId: gameId,\r\n      max: gameGeneral.min,\r\n      gameGeneral: gameGeneral,\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n      <>\r\n      <div className={styles.roomInfo}>\r\n        <div>\r\n          <div>{this.props.roomId===undefined?\"Создание комнаты\": \"Комната #\"+this.props.roomId}</div>\r\n        </div>\r\n        <form onSubmit={this.props.onSubmit}>\r\n          <div>\r\n            <div>\r\n              <div>Общие настройки</div>\r\n              <Input placeholder=\"Введите название комнаты\" name=\"name\"\r\n                value={this.state.name}\r\n                onChange={(e) => this.setState({name: e.target.value})}\r\n                disabled={this.props.name===undefined?false:true} /> \r\n              <Select disabled={this.props.disabled} name=\"gameId\" data={[\r\n                  {name: \"tictactoe\", value:\"Крестики-нолики\"}, \r\n                  {name: \"sapper\", value:\"Сапёр\"}, \r\n                  {name: \"reversi\", value:\"Реверси\"}, \r\n                ]}\r\n                selected={this.state.gameId}\r\n                onClick={this.selectGame} />\r\n              <InputNumber label=\"Количество игроков\" name=\"max\"\r\n                disabled={this.props.disabled} \r\n                value={this.state.max} \r\n                min={this.state.gameGeneral.min} max={this.state.gameGeneral.max}\r\n                onChange={(e) => {this.setState({max: e.target.value>=this.state.gameGeneral.min&&e.target.value<=this.state.gameGeneral.max?e.target.value:this.state.gameGeneral.min})}} \r\n                />\r\n              <Checkbox label=\"Использовать пароль?\" name=\"usePw\"\r\n                disabled={this.props.disabled} \r\n                checked={this.state.usePw} \r\n                onChange={(e) => this.setState({usePw: e.target.checked})}/>\r\n              <Input placeholder=\"Введите пароль\" name=\"pw\"\r\n                disabled={this.state.usePw||this.props.usePw===true?false:true} />\r\n              <Checkbox label=\"Сделать приватной?\" name=\"private\"\r\n                disabled={this.props.disabled} \r\n                checked={this.state.private}\r\n                onChange={(e) => this.setState({private: e.target.checked})} />\r\n              <Checkbox label=\"Автостарт\" name=\"autostart\"\r\n                disabled={this.props.disabled}\r\n                checked={this.state.autostart} \r\n                onChange={(e) => this.setState({autostart: e.target.checked})} />\r\n            </div>\r\n            <div>\r\n              <div>Настройки игры</div>\r\n              {this.state.gameId===undefined?null:this.renderSettings()}\r\n            </div>\r\n            <div>\r\n              {this.props.roomId===undefined?<>Вы станите первым участником этой комнаты!</>:\r\n                <>\r\n                  Игроки в текущей комнате\r\n                  {this.props.users.map(user => <div className={user.connected?null:styles.disconnected}><div>{user.userId}</div><div> {user.userName}</div></div>)}\r\n                </>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div>\r\n            {this.props.children}\r\n          </div>\r\n        </form>\r\n      </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\nexport default RoomInfo;","import React from \"react\";\r\nimport RoomInfo from './RoomInfo';\r\nimport {InputButtonSubmit} from './FormElements';\r\n\r\nexport default class CreateNewRoom extends React.Component {\r\n\r\n  createRoom = (e) => {\r\n    e.preventDefault()\r\n    const settings = {\r\n      name: e.target.name.value,\r\n      gameId: e.target.gameId.value,\r\n      usePw: e.target.usePw.checked,\r\n      private: e.target.private.checked,\r\n      autostart: e.target.autostart.checked,\r\n      max: e.target.max.value,\r\n      pw: e.target.usePw.value?e.target.pw.value||'':undefined,\r\n      userName: localStorage.getItem(\"userName\"),\r\n      gameProps: this.getPropsByGameId(e.target.gameId.value, e)\r\n    }\r\n    if (settings.name.length<3||settings.name.length>20) return \r\n    this.props.ws.send(JSON.stringify({type: 'create', data: settings}))\r\n  }\r\n  getPropsByGameId(gameId, e) {\r\n    switch (gameId) {\r\n      case \"tictactoe\": return {\r\n        timeTurn: +e.target.timeTurn.value*1000,\r\n        roundsForWin: +e.target.roundsForWin.value,\r\n        boardSize: +e.target.boardSize.value,\r\n        cellsForWin: +e.target.cellsForWin.value,\r\n      }\r\n      default: return {}\r\n    }\r\n  }\r\n  render() {\r\n    return(\r\n        <RoomInfo gameId={this.props.gameId} onSubmit={this.createRoom}>\r\n          <InputButtonSubmit>Создать комнату</InputButtonSubmit>\r\n        </RoomInfo>\r\n    )\r\n  }\r\n}","import React from \"react\";\r\nimport RoomInfo from './RoomInfo';\r\nimport {InputButtonSubmit} from './FormElements';\r\n\r\nexport default class RoomDetails extends React.Component {\r\n  \r\n  joinRoom = (e) => {\r\n    e.preventDefault()\r\n    this.props.ws.send(JSON.stringify({\r\n      type: 'join', \r\n      data: {\r\n        roomId: this.props.data.roomId, \r\n        pw: e.target.usePw.checked?e.target.pw.value:undefined,\r\n        userName: localStorage.getItem('userName')\r\n      }\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return(\r\n        <RoomInfo {...this.props.data} disabled={this.props.disabled} onSubmit={this.joinRoom} >\r\n          <InputButtonSubmit disabled={this.props.data.started}>Подключиться</InputButtonSubmit>\r\n        </RoomInfo>\r\n    )\r\n  }\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgInformationFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInformationFill);\nexport default __webpack_public_path__ + \"static/media/information-fill.812df30e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Popup from './Popup';\r\nimport RoomCreate from './RoomCreate';\r\nimport RoomDetails from './RoomDetails';\r\nimport {ReactComponent as SvgIconInfo} from '../../static/img/information-fill.svg'\r\nimport styles from '../../static/css/lobby.module.css'\r\nimport {InputTextSubmit, Button} from './FormElements'\r\n\r\n\r\nclass Lobby extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            lobbyList: [],\r\n            privateRoomId: '',\r\n        }\r\n        this.emitter = props.emitter\r\n    }\r\n\r\n    componentWillMount() {\r\n        const ws = new WebSocket(\"ws://45.156.21.71:8082\")\r\n        ws.onopen = () => {\r\n            ws.send(JSON.stringify({type: 'list', data: {gameId: this.props.match.params.gameId, token: localStorage.getItem('token')}}))\r\n            this.props.emitter.emit('displayGlobalChat', true)\r\n        }\r\n        ws.onmessage = (e) => {\r\n            const messageParsed = JSON.parse(e.data)\r\n            const data = messageParsed.data\r\n            switch (messageParsed.type) {\r\n                case 'token': \r\n                  localStorage.setItem('token', data.token)\r\n                  localStorage.setItem('userId', data.userId)\r\n                  localStorage.setItem('userName', `Гость${data.userId}`)\r\n                  break\r\n                case 'list': \r\n                    this.setState({lobbyList: data})\r\n                    break\r\n                case 'connectbyroomid': \r\n                    if (data===false) {\r\n                        alert('Комната не найдена')\r\n                        return\r\n                    }\r\n                    this.props.setWindow(\r\n                        <Popup setWindow={this.props.setWindow}>\r\n                            <RoomDetails ws={this.ws} data={data.roomInfo} disabled={true} /> \r\n                        </Popup>\r\n                    )\r\n                    break\r\n                case 'join': \r\n                    this.props.setWindow(null)\r\n                    this.setState({roomId: data})\r\n                    break\r\n                default: break\r\n            }\r\n        }\r\n        ws.onerror = (e) => {\r\n            this.props.emitter.emit('global', 'Ошибка соединения (Глобальный чат): ' + e)\r\n        }\r\n        this.ws=ws\r\n    }\r\n    componentWillUnmount() {\r\n        this.ws.close()\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if(this.props.match.params.gameId!==nextProps.match.params.gameId) this.ws.send(JSON.stringify({type: 'list', data: {gameId: \"\"+nextProps.match.params.gameId}}))\r\n    }\r\n    createNewRoom = () => this.props.setWindow(\r\n        <Popup setWindow={this.props.setWindow}>\r\n            <RoomCreate ws={this.ws} gameId={this.props.match.params.gameId} disabled={false}/> \r\n        </Popup>\r\n        )\r\n    connectById = (e) => {\r\n        e.preventDefault()\r\n        this.ws.send(JSON.stringify({type: 'connectbyroomid', data: e.target['connect-by-room-id'].value}))\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n        <>      \r\n            <div className={styles.lobby}>\r\n                <div>\r\n                    <InputTextSubmit name=\"search-input\" placeholder=\"Поиск\" autoComplete={false} />\r\n                    <InputTextSubmit name=\"connect-by-room-id\" placeholder=\"Подключиться по id\" autoComplete={false} onSubmit={this.connectById}/>\r\n                    <Button onClick={this.createNewRoom}>Создать комнату</Button>\r\n                </div>\r\n                <div>\r\n                    {this.state.lobbyList.map(room => <DisplayRoom data={room} ws={this.ws} emitter={this.props.emitter} setWindow={this.props.setWindow} />)}\r\n                </div>\r\n            </div>\r\n            {this.state.roomId!==undefined&&this.state.roomId!==false?<Redirect to={`/g/${this.props.match.params.gameId}/${this.state.roomId}`}></Redirect>:null}\r\n        \r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nclass DisplayRoom extends React.Component {\r\n    constructor(props) {\r\n        super(props) \r\n        this.state={\r\n            connected: props.data.users.some(user => user.userId=== +localStorage.userId&&user.leave===false?true:false),\r\n        }\r\n    }\r\n    players = () => this.props.data.users.map((user) => <span><span>{user.userId}#</span><span>{user.userName}</span></span>)\r\n    \r\n    tags = () => {\r\n        let result = []\r\n        switch (this.props.data.gameId) {\r\n            case \"tictactoe\": result.push('Tic tac toe')\r\n                break\r\n            default: break\r\n        }\r\n        if (this.props.data.usePw) result.push('password')\r\n        result.push('public')\r\n        if (this.props.data.autostart) result.push('autostart')\r\n        return result.map((tag) => <div>{tag}</div>)\r\n    }\r\n\r\n    moreDetails = () => this.props.setWindow(\r\n        <Popup setWindow={this.props.setWindow}>\r\n            <RoomDetails ws={this.props.ws} data={this.props.data} disabled={true}  /> \r\n        </Popup>\r\n    )\r\n\r\n    leave = () => {\r\n        this.props.ws.send(JSON.stringify({type: 'leave', data: this.props.data.roomId}))\r\n        this.setState({connected: false})\r\n        this.props.emitter.emit('private', 'Вы вышли из комнаты #'+this.props.data.roomId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.item}>\r\n                {this.state.connected?\r\n                <div className={styles.connected}>\r\n                    <div>Вы уже присоединились к данной комнате!</div>\r\n                    <div onClick={this.reconnect}>\r\n                        <Link to={`/g/${this.props.data.gameId}/${this.props.data.roomId}`}>Вернуться</Link>\r\n                    </div>\r\n                    <div onClick={this.leave}>Покинуть</div>\r\n                </div>:null}\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <span>#{this.props.data.roomId}</span>\r\n                            <span>{this.props.data.name}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{this.props.data.users.length||0} / {this.props.data.max} : </span>\r\n                            <span>{this.players()}</span>\r\n                        </div>\r\n                        <div>{this.tags()}</div>\r\n                    </div>\r\n                    {this.state.connected?null:\r\n                    <div>\r\n                        <Button onClick={this.moreDetails}>\r\n                            <span>Подробнее</span>\r\n                            <SvgIconInfo />\r\n                        </Button>\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Lobby;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 4h13v2H8V4zm-5-.5h3v3H3v-3zm0 7h3v3H3v-3zm0 7h3v3H3v-3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgListCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgListCheck);\nexport default __webpack_public_path__ + \"static/media/list-check.3946db11.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Suspense, lazy } from 'react';\r\nimport RoomInfo from './RoomInfo';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {ReactComponent as SvgIconBtnToLobby} from '../../static/img/list-check.svg'\r\nimport styles from '../../static/css/room.module.css'\r\nimport {Button} from './FormElements'\r\n\r\nconst Tictactoe = lazy(() => import('../games/Tictactoe'))\r\n\r\nclass Room extends React.Component {\r\n  constructor(props) {\r\n    super(props) \r\n    this.state = {\r\n      roomInfo: undefined,\r\n    }\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    const ws = new WebSocket(\"ws://45.156.21.71:8083\")\r\n    ws.onopen = () => {\r\n      this.emitterUnsubPrivateChat = this.props.emitter.sub('privateChatSend', data => ws.send(JSON.stringify({type: 'chat', data: data})))\r\n      ws.send(JSON.stringify({type: 'connect', data: {roomId: this.props.match.params.roomId, token: localStorage.getItem('token')}}))\r\n      this.props.emitter.emit('displayGlobalChat', false)\r\n      this.emitterUnsubAction = this.props.emitter.sub('action', data => ws.send(JSON.stringify({type: 'game', data: data})))   \r\n    }\r\n    ws.onmessage = (e) => {\r\n        const messageParsed = JSON.parse(e.data)\r\n        const data = messageParsed.data\r\n        switch (messageParsed.type) {\r\n            case 'connect': \r\n              this.setState({roomInfo: data.roomInfo})\r\n              if(data.gameInfo!==undefined) this.setState({gameInfo: data.gameInfo})\r\n              this.props.emitter.emit('private', 'Подключение к комнате #'+this.state.roomInfo.roomId)\r\n              this.props.emitter.emit('privateChatHistory', data.chat)\r\n              break\r\n            case 'chat': this.props.emitter.emit('private', data)\r\n              break\r\n            case 'userJoin': this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: [...prevState.roomInfo.users, data]}}))\r\n              break\r\n            case 'userLeave': {\r\n              let newArrayUsers = []\r\n              if(this.state.roomInfo.started) {\r\n                this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, leave: true}))\r\n              } else this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):null)\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'userDisconnected':{\r\n              let newArrayUsers = []\r\n              this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, connected: false}))\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'userConnected':{\r\n              let newArrayUsers = []\r\n              this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, connected: true}))\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'start': this.setState((prevState) => ({roomInfo: {...prevState.roomInfo, started: true}, gameInfo: data}))\r\n              break\r\n            case 'finished': \r\n              this.props.emitter.emit('private', 'Матч завершён')\r\n              this.setState((prevState) => ({roomInfo: {...prevState.roomInfo, started: false}}))\r\n              break\r\n            case 'game': this.props.emitter.emit('game', data)\r\n              break\r\n            default:break\r\n        }\r\n    }\r\n    ws.onerror = (e) => {\r\n        this.props.emitter.emit('global', 'Ошибка соединения (Комната): ' + e)\r\n    }\r\n    ws.onclose = (e) => {\r\n      this.emitterUnsubAction()\r\n    }\r\n    this.ws=ws\r\n  }\r\n  componentWillUnmount() {\r\n    try {\r\n      this.emitterUnsubPrivateChat()\r\n      this.emitterUnsubAction()\r\n      this.ws.close()\r\n    } catch {}\r\n    this.props.emitter.emit('private', 'Выполнено отключение от комнаты')\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n      //Reconnect to next room by RoomId\r\n      if(this.props.match.params.roomId!==nextProps.match.params.roomId) this.ws.send(JSON.stringify({type: 'connect', data: {roomId: nextProps.match.params.roomId, token: localStorage.getItem('token')}}))\r\n  }\r\n\r\n  startTheGame = (e) => {\r\n    e.preventDefault()\r\n    this.ws.send(JSON.stringify({type: 'start'}))\r\n  }\r\n  getGameComponent() {\r\n    if(!this.state.roomInfo.started||this.state.gameInfo===undefined) return\r\n    switch (this.state.roomInfo.gameId) {\r\n      case \"tictactoe\": return <Tictactoe gameInfo={this.state.gameInfo} players={this.state.roomInfo.users} emitter={this.props.emitter} />\r\n      default: break\r\n    }\r\n  }\r\n  render() {\r\n      return (\r\n          <>\r\n            <div className={styles.room}>\r\n              {this.state.roomInfo===undefined?<Button onClick={()=>this.setState({redirectToLobby:true})}>В лобби</Button>\r\n              :\r\n                <>\r\n                  <div className={styles.match}>\r\n                    <Suspense>\r\n                      {this.getGameComponent()}\r\n                    </Suspense>\r\n                  </div>\r\n                  {this.state.roomInfo.started?\r\n                    <Link to={`/g/${this.props.match.params.gameId}`} className={styles.btnToLobby}>\r\n                      <span>В лобби</span>\r\n                      <SvgIconBtnToLobby />\r\n                    </Link>:\r\n                    <RoomInfo {...this.state.roomInfo} disabled={true}>\r\n                      {this.state.roomInfo.creator!== +localStorage.userId?null:\r\n                      <Button onClick={this.startTheGame}>Начать игру</Button>\r\n                      }\r\n                      <Button onClick={()=>this.setState({redirectToLobby:true})}>В лобби</Button>\r\n                    </RoomInfo>\r\n                  }\r\n                </>\r\n                }\r\n            </div>\r\n            {this.state.redirectToLobby?<Redirect to={`/g/${this.props.match.params.gameId}`}></Redirect>:null}\r\n          </>\r\n      )\r\n  }\r\n}\r\nexport default Room;","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport styles from '../../static/css/leftbar.module.css'\r\nimport {ReactComponent as SvgIconBtnDisplayLeftbar} from '../../static/img/list-check.svg'\r\n\r\n\r\nclass Left extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            leftbarDisplay: false\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className={`${styles.leftbar}  ${this.state.leftbarDisplay?styles.leftbarDisplay:''}`}>\r\n                    <div className={styles.games}>\r\n                        <div>\r\n                            <Link to=\"/g/tictactoe\">\r\n                                <div>Крестики-нолики</div>\r\n                            </Link>\r\n                        </div>\r\n                        <div>\r\n                            <Link to=\"/g/sapper\">\r\n                                <div>Сапёр</div>\r\n                            </Link>\r\n                        </div>\r\n                        <div>\r\n                            <Link to=\"/g/reversi\">\r\n                                <div>Реверси</div>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.leftbarStateBtn} onClick={() => this.setState(prevState => ({leftbarDisplay: prevState.leftbarDisplay?false:true}))}>\r\n                    <SvgIconBtnDisplayLeftbar />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Left;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.923 9.37c-.51-.205-.504-.51.034-.689l19.086-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.475.553-.717.07L11 13 1.923 9.37zm4.89-.2l5.636 2.255 3.04 6.082 3.546-12.41L6.812 9.17z\",\n  fill: \"#000\"\n});\n\nfunction SvgSendPlaneLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSendPlaneLine);\nexport default __webpack_public_path__ + \"static/media/send-plane-line.8e0f0a9f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.763 17H20V5H4v13.385L5.763 17zm.692 2L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455z\",\n  fill: \"#000\"\n});\n\nfunction SvgChat4Line(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChat4Line);\nexport default __webpack_public_path__ + \"static/media/chat-4-line.19aa6bbf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.95 7.95l-1.414 1.414L8 6.828 8 20H6V6.828L3.465 9.364 2.05 7.95 7 3l4.95 4.95zm10 8.1L17 21l-4.95-4.95 1.414-1.414 2.537 2.536L16 4h2v13.172l2.536-2.536 1.414 1.414z\",\n  fill: \"#000\"\n});\n\nfunction SvgArrowUpDownLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUpDownLine);\nexport default __webpack_public_path__ + \"static/media/arrow-up-down-line.b9f8ffc7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z\"\n});\n\nfunction SvgCloseFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCloseFill);\nexport default __webpack_public_path__ + \"static/media/close-fill.058af5b2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\nimport {ReactComponent as SvgIconChatSend} from '../../static/img/send-plane-line.svg'\r\nimport {ReactComponent as SvgIconChatDisplay} from '../../static/img/chat-4-line.svg'\r\nimport {ReactComponent as SvgIconChatChange} from '../../static/img/arrow-up-down-line.svg'\r\nimport {ReactComponent as SvgIconCross} from '../../static/img/close-fill.svg'\r\nimport {InputTextSubmit} from './FormElements'\r\n\r\nimport styles from '../../static/css/chat.module.css'\r\n\r\nclass Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      msgsG: [],\r\n      msgsP: [],\r\n      globalChat: true,\r\n      hidden: true,\r\n      prints: '',\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const ws = new WebSocket(\"ws://45.156.21.71:8081\")\r\n    if(localStorage.userName===undefined) localStorage.setItem('userName', 'Гость228')\r\n\r\n    ws.onopen = () => {\r\n    }\r\n    ws.onmessage = (e) => {\r\n        const messageParsed = JSON.parse(e.data)\r\n        const data = messageParsed.data\r\n        switch (messageParsed.type) {\r\n          case 'chat': this.globalMessage(data)\r\n            break\r\n          case 'history': \r\n            this.setState((state) => ({msgsG: state.msgsG.concat(data)}))\r\n            this.globalMessage('Добро пожаловать в чат!')\r\n            break\r\n          default: return\r\n        }\r\n    }\r\n    ws.onerror = (e) => {\r\n        this.globalMessage('Ошибка соединения (Глобальный чат): ' + e.code)\r\n    }\r\n    this.ws=ws\r\n  }\r\n  componentWillUnmount = () => {\r\n    this.emitterUnsubGlobal()\r\n    this.emitterUnsubDisplayGlobalChat()\r\n    this.emitterUnsubPrivate()\r\n    this.emitterUnsubPrivateChatHistory()\r\n    this.ws.close()\r\n  }\r\n  componentDidMount() {\r\n    this.emitterUnsubGlobal = this.props.emitter.sub('global', (msgData) => this.globalMessage(msgData))\r\n    this.emitterUnsubPrivate = this.props.emitter.sub('private', (msgData) => this.privateMessage(msgData))\r\n    this.emitterUnsubDisplayGlobalChat = this.props.emitter.sub('displayGlobalChat', boolen => this.setState({globalChat: boolen}))\r\n    this.emitterUnsubPrivateChatHistory = this.props.emitter.sub('privateChatHistory', (data) => {\r\n      let msgsNewRoomArray = []\r\n      for (let msg of data) {\r\n        if(this.state.msgsP.some(elementOfMsgsP => elementOfMsgsP.date===msg.date?true:false)) {\r\n          break;\r\n        } else msgsNewRoomArray.push(msg)\r\n      }\r\n      this.setState((state) => ({msgsP: state.msgsP.concat(msgsNewRoomArray)}))\r\n      this.privateMessage('Добро пожаловать в чат!')\r\n    })\r\n  }\r\n\r\n  send = (e) => {\r\n    e.preventDefault();\r\n    const messageValue = e.target.inputMessage.value\r\n    if(messageValue==='') return\r\n    const messageSendObject = {\r\n      token: localStorage.getItem('token'),\r\n      text: messageValue,\r\n      userName: localStorage.getItem('userName'),\r\n    }\r\n    const messageDisplayObject = {\r\n      text: messageSendObject.text,\r\n      userName: messageSendObject.userName,\r\n      date: Date.now(),\r\n      userId: localStorage.getItem('userId'),\r\n    }\r\n    if (this.state.globalChat) {\r\n      this.ws.send(JSON.stringify({type: 'chat', data: messageSendObject}))\r\n      this.globalMessage(messageDisplayObject)\r\n    } else {\r\n      try {\r\n        this.props.emitter.emit('privateChatSend', messageSendObject)\r\n        this.privateMessage(messageDisplayObject)\r\n      } catch {return console.log('Отсутствует подключение к комнате')}\r\n    }\r\n    this.setState({prints: ''})\r\n  }\r\n\r\n  //display message in chat\r\n  globalMessage = msg => this.setState(prevState => ({msgsG: [...prevState.msgsG,msg]}))\r\n  privateMessage = msg => this.setState(prevState => ({msgsP: [...prevState.msgsP,msg]}))\r\n  displayChat = () => this.setState({hidden: this.state.hidden?false:true})\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={`${styles.chat} ${!this.state.hidden?styles.chatDisplay:''}`}>\r\n          <div>\r\n            <div>\r\n              <div onClick={() => this.setState({globalChat: this.state.globalChat?false:true})}>\r\n                <SvgIconChatChange className={!this.state.globalChat?styles.global:null}/>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className={this.state.globalChat?styles.selected:null}>Глобальный чат</div>\r\n              <div className={!this.state.globalChat?styles.selected:null}>Приватный чат</div>\r\n            </div>\r\n            <div>\r\n              <div onClick={this.displayChat}>\r\n                <SvgIconCross />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <Messages msgs={this.state.globalChat?this.state.msgsG:this.state.msgsP} />\r\n          </div>\r\n          <div>\r\n            <InputTextSubmit name=\"inputMessage\" \r\n              value={this.state.prints} \r\n              onChange={(e) => this.setState({prints: e.value})} \r\n              autocomplete=\"off\" \r\n              placeholder=\"Напишите сообщение...\" \r\n              onSubmit={this.send} >\r\n              <SvgIconChatSend />\r\n            </InputTextSubmit>\r\n          </div>\r\n        </div>\r\n        <div className={styles.chatStateBtn} onClick={this.displayChat} >\r\n          <SvgIconChatDisplay />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Messages extends React.Component {\r\n  render() {\r\n    return(\r\n      this.props.msgs.map((msg) =>\r\n      msg.userName!==undefined? \r\n      <div>\r\n        <span>{new Date(msg.date).toLocaleString(\"ru\", {minute: 'numeric', hour: 'numeric'})}  </span>\r\n        <span>{msg.userName}</span>\r\n        <span>: {msg.text}</span>\r\n      </div>:\r\n      <div className={styles.system}>\r\n        <span>\r\n          {msg}\r\n        </span>\r\n      </div>\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chat;","import React from \"react\";\r\nimport {InputButtonSubmit, Input} from './FormElements';\r\nimport styles from '../../static/css/roomInfo.module.css'\r\n\r\nexport default class Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      displayButton: false,\r\n      userName: localStorage.getItem('userName'),\r\n    }\r\n  }\r\n  componentShouldUpdate = () => this.displayButton = true\r\n  saveChanges = (e) => {\r\n    e.preventDefault()\r\n    if (e.target.userName.value.length < 20) localStorage.setItem(\"userName\", e.target.userName.value)\r\n    \r\n  }\r\n  render() {\r\n    return(\r\n      <div className={styles.roomInfo}>\r\n        <div>\r\n          <div>Настройки</div>\r\n        </div>\r\n        <form onSubmit={this.saveChanges}>\r\n          <div>\r\n            <div>\r\n              <div>Общие настройки</div>\r\n              <div>\r\n                <div>Никнейм</div>\r\n                <Input name=\"userName\" value={this.state.userName} onChange={(e) => this.setState({userName: e.value, displayButton: true})} />\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            {!this.state.displayButton?null:<InputButtonSubmit>Сохранить изменения</InputButtonSubmit>}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgMenuLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenuLine);\nexport default __webpack_public_path__ + \"static/media/menu-line.2e34dbd7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 18v3h-2v-3h-2v-2h6v2h-2zM5 18v3H3v-3H1v-2h6v2H5zm6-12V3h2v3h2v2H9V6h2zm0 4h2v11h-2V10zm-8 4V3h2v11H3zm16 0V3h2v11h-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgSoundModuleLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoundModuleLine);\nexport default __webpack_public_path__ + \"static/media/sound-module-line.8f3b1bb1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Suspense, lazy } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport Popup from './Popup.js'\r\nimport Settings from './Settings.js'\r\n\r\nimport {ReactComponent as SvgIconMenu} from '../../static/img/menu-line.svg'\r\nimport {ReactComponent as SvgIconSettings} from '../../static/img/sound-module-line.svg'\r\nimport styles from '../../static/css/topbar.module.css'\r\n\r\nconst ManualTictactoe = lazy(() => import('../manuals/ManualTictactoe'))\r\nconst ManualSeabattle = lazy(() => import('../manuals/ManualSeabattle'))\r\nconst ManualSapper = lazy(() => import('../manuals/ManualSapper'))\r\nconst ManualReversi = lazy(() => import('../manuals/ManualReversi'))\r\nconst Support = lazy(() => import('../manuals/Support'))\r\nconst Rules = lazy(() => import('../manuals/Rules'))\r\n\r\nclass Topbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayMenu: false,\r\n    }\r\n  }\r\n  showManual = () => {\r\n    let popupWindow = null\r\n    switch (this.props.match.params.gameId) {\r\n      case 'tictactoe': popupWindow = <ManualTictactoe />\r\n        break\r\n      case 'seabattle': popupWindow = <ManualSeabattle />\r\n        break\r\n      case 'reversi': popupWindow = <ManualReversi />\r\n        break\r\n      case 'sapper': popupWindow = <ManualSapper />\r\n        break\r\n      default: break\r\n    }\r\n    this.props.setWindow(\r\n    <Suspense>\r\n      <Popup setWindow={this.props.setWindow}>\r\n        {popupWindow}\r\n      </Popup>\r\n    </Suspense>)\r\n  }\r\n  showSettings = () => this.props.setWindow(<Popup setWindow={this.props.setWindow}><Settings /></Popup>)\r\n  showRules = () => this.props.setWindow(<Popup setWindow={this.props.setWindow}><Rules /></Popup>)\r\n  showSupport = () => this.props.setWindow(<Popup setWindow={this.props.setWindow}><Support /></Popup>)\r\n  displayGameName = ()=> {\r\n    switch (this.props.match.params.gameId) {\r\n      case 'tictactoe': return 'Крестики-нолики'\r\n      case 'dots': return 'Точки'\r\n      case 'seabattle': return 'Морской бой'\r\n      case 'sapper': return 'Сапёр'\r\n      case 'reversi': return 'Риверси'\r\n      default: return\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={`${styles.topbar} ${this.state.displayMenu?styles.displayMenu:null}`}>\r\n          <div>\r\n              <div onClick={()=>this.setState(prevState => ({displayMenu: prevState.displayMenu?false:true}))}>\r\n                <SvgIconMenu />\r\n              </div>\r\n              <div onClick={() => this.setState({displayMenu: false})}>\r\n                <Link to=\"/\">Главная</Link>\r\n                <div onClick={this.showRules}>Правила</div>\r\n                <div onClick={this.showSupport}>Помощь</div>\r\n              </div>\r\n          </div>\r\n          <div onClick={this.showManual}>\r\n            <span>Руководство: </span><span>{this.displayGameName()}</span>\r\n          </div>\r\n          <div onClick={this.showSettings}>\r\n            <div>#{localStorage.getItem('userId')}</div>\r\n            <div>{localStorage.getItem('userName')}</div>\r\n            <div>\r\n              <SvgIconSettings />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Topbar;","import React, { Suspense } from 'react';\r\nimport {Switch, Route} from \"react-router-dom\";\r\n\r\nimport Lobby from './elements/Lobby';\r\nimport Room from './elements/Room';\r\nimport Leftbar from './elements/Leftbar';\r\n\r\nimport Chat from './elements/Chat';\r\nimport Topbar from './elements/Topbar';\r\n//import Alert from './elements/Alert'\r\nimport styles from '../static/css/app.module.css'\r\nimport Granim from 'granim'\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popupElement: null,\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        if (this.emitter===undefined) this.emitter = new Emitter()\r\n    }\r\n    componentDidMount() {\r\n        let grad = new Granim({\r\n            element: '#grad-backg',\r\n            direction: 'left-right',\r\n            states : {\r\n                \"default-state\": {\r\n                    gradients: [\r\n                        ['#EF8D5B', '#EFB75B'],\r\n                        ['#EFC55B', '#EFDA5B'],\r\n                        ['#E8ED5A', '#EF815B'],\r\n                    ],\r\n                    transitionSpeed: 20000\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    setWindow = (popupElement) => {\r\n        this.setState({popupElement: popupElement})\r\n    }\r\n    render() {\r\n        return (\r\n            <>  <Switch>\r\n                    <Route path=\"/g/:gameId\" render={props=><Topbar {...props} setWindow={this.setWindow}/>} />\r\n                </Switch>\r\n                <div className={styles.page}>\r\n                    <Switch>\r\n                        <Route path=\"/g/:gameId/:roomId\" render={props=>\r\n                            <Room {...props} emitter={this.emitter} >\r\n                            </Room>\r\n                            } />\r\n                        <Route path=\"/g/:gameId\" render={props => \r\n                            <>\r\n                                <Leftbar {...props} />\r\n                                <Lobby {...props} emitter={this.emitter} setWindow={this.setWindow} >\r\n                                </Lobby>\r\n                            </>\r\n                        } />\r\n                            \r\n                    </Switch>\r\n                    <Chat emitter={this.emitter}/>\r\n                    \r\n                </div>\r\n                <canvas id=\"grad-backg\"/>\r\n                <Suspense>\r\n                {this.state.popupElement}\r\n                </Suspense>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass Emitter {\r\n    constructor() {\r\n        this.events = []                    \r\n    }\r\n    sub(eventName, fun) {\r\n        if (!Array.isArray(this.events[eventName])) this.events[eventName]=[]\r\n        this.events[eventName].push(fun)\r\n        return () => {\r\n            this.events[eventName] = this.events[eventName].filter(eventFn => fun !== eventFn);\r\n        }\r\n    }\r\n    emit(eventName, ...data) {\r\n         this.events[eventName].forEach(fun => fun.call(null, ...data))\r\n    }\r\n}\r\nexport default App;","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roomInfo\":\"roomInfo_roomInfo__1mFgj\",\"disconnected\":\"roomInfo_disconnected__24G-1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"popup_popup__2rUWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"formElements_input__383-J\",\"select\":\"formElements_select__3_H9M\",\"number\":\"formElements_number__1eHwP\",\"checkbox\":\"formElements_checkbox__1Ucvc\",\"button\":\"formElements_button__2SfXx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lobby\":\"lobby_lobby__g4Omn\",\"item\":\"lobby_item__3xs5D\",\"connected\":\"lobby_connected__-Ig30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"room\":\"room_room__2rs_b\",\"match\":\"room_match__2zuUt\",\"btnToLobby\":\"room_btnToLobby__KkDG2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftbar\":\"leftbar_leftbar__K-yD4\",\"leftbarDisplay\":\"leftbar_leftbarDisplay__2V4rz\",\"leftbarStateBtn\":\"leftbar_leftbarStateBtn__Q5aZH\",\"games\":\"leftbar_games__1Y0MG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"chat_chat__2N-A0\",\"global\":\"chat_global__2uImr\",\"selected\":\"chat_selected__2tg7k\",\"system\":\"chat_system__2tgLF\",\"chatDisplay\":\"chat_chatDisplay__1Lkwg\",\"chatStateBtn\":\"chat_chatStateBtn__1Murg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"topbar_topbar__2f6mz\",\"displayMenu\":\"topbar_displayMenu__3LvLZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"app_page__10lvp\"};"],"sourceRoot":""}