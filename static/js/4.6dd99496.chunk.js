(this["webpackJsonplogic-games"]=this["webpackJsonplogic-games"]||[]).push([[4],{27:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t);var i=n(29),o=n(30),c=n(32),l=n(31),u=n(4),d=n(0),b=n.n(d),h=n(1),p=n(11),m=n(71),j=n.n(m),f=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:j.a.popup,onClick:function(){return e.props.setWindow(null)},children:Object(u.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:this.props.children})})})}}]),n}(b.a.Component);function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=n(34),g=n(72),y=n.n(g),x=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).change=function(e){r.props.onClick(e),r.setState({displayList:!1,selected:e.target.name})},r.state={displayList:!1,selected:r.props.selected},r}return Object(o.a)(n,[{key:"getValueByName",value:function(){var e,t=Object(O.a)(this.props.data);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.name===this.state.selected)return n.value}}catch(r){t.e(r)}finally{t.f()}}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:y.a.select,onClick:this.props.disabled?void 0:function(){return e.setState({displayList:!e.state.displayList})},children:[Object(u.jsx)("div",{children:this.getValueByName()}),this.state.displayList?Object(u.jsx)("div",{children:this.props.data.map((function(t){return Object(u.jsx)("button",s(s({},t),{},{type:"button",onClick:e.change,children:t.value}))}))}):null,Object(u.jsx)("input",{name:this.props.name,value:this.state.selected})]})}}]),n}(b.a.Component);function w(e){var t=e.label,n=v(e,["label"]);return Object(u.jsx)("div",{className:y.a.number,children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",s(s({},n),{},{type:"number"})),Object(u.jsx)("div",{children:t})]})})}function I(e){var t=e.label,n=v(e,["label"]);return Object(u.jsx)("div",{className:y.a.checkbox,children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",s(s({},n),{},{type:"checkbox"})),Object(u.jsx)("div",{children:t})]})})}function S(e){return Object(u.jsx)("div",{className:y.a.input,children:Object(u.jsx)("input",s(s({},e),{},{type:"text"}))})}function k(e){var t=e.onSubmit,n=e.children,r=v(e,["onSubmit","children"]);return Object(u.jsxs)("form",{className:y.a.input,onSubmit:t,children:[Object(u.jsx)("input",s(s({},r),{},{type:"text"})),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"submit"}),n]})]})}function C(e){var t=e.children,n=v(e,["children"]);return Object(u.jsx)("input",s(s({className:y.a.button,type:"submit"},n),{},{value:t}))}function _(e){var t=e.children,n=v(e,["children"]);return Object(u.jsx)("button",s(s({className:y.a.button},n),{},{children:t}))}var N=n(38),P=n.n(N),E=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).renderSettings=function(){switch(r.state.gameId){case"tictactoe":return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0443\u043d\u0434\u043e\u0432 \u0434\u043b\u044f \u043f\u043e\u0431\u0435\u0434\u044b",name:"roundsForWin",value:r.state.roundsForWin,min:3,max:20,onChange:function(e){return r.setState({roundsForWin:e.target.value>=3&&e.target.value<=20?e.target.value:5})}}),Object(u.jsx)(w,{label:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430 \u0445\u043e\u0434",name:"timeTurn",value:r.state.timeTurn,min:5,max:60,onChange:function(e){return r.setState({timeTurn:e.target.value>=5&&e.target.value<=60?e.target.value:20})}}),Object(u.jsx)(w,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u043b\u044f",name:"boardSize",value:r.state.boardSize,min:3,max:40,onChange:function(e){return r.setState({boardSize:e.target.value>=3&&e.target.value<=40?e.target.value:19})}}),Object(u.jsx)(w,{label:"\u0414\u043b\u0438\u043d\u0430 \u0440\u044f\u0434\u0430 \u0434\u043b\u044f \u043f\u043e\u0431\u0435\u0434\u044b",name:"cellsForWin",value:r.state.cellsForWin,min:3,max:r.state.boardSize,onChange:function(e){return r.setState({cellsForWin:e.target.value>=3&&e.target.value<=r.state.boardSize?e.target.value:3})}})]});default:return}},r.selectGame=function(e){var t,n=void 0!==e?e.target.name:r.state.gameId;switch(n){case"tictactoe":t={min:2,max:3},r.setState({roundsForWin:5,timeTurn:20,boardSize:19,cellsForWin:5});break;case"sapper":case"reversi":t={min:2,max:2}}r.setState({gameId:n,max:t.min,gameGeneral:t})},r.state={name:e.name,gameId:e.gameId,usePw:e.usePw||!1,private:e.private||!1,autostart:e.autostart||!0,max:e.max||2},r}return Object(o.a)(n,[{key:"componentWillMount",value:function(){this.selectGame()}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:P.a.roomInfo,children:[Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:void 0===this.props.roomId?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b":"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 #"+this.props.roomId})}),Object(u.jsxs)("form",{onSubmit:this.props.onSubmit,children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(u.jsx)(S,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b",name:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},disabled:void 0!==this.props.name}),Object(u.jsx)(x,{disabled:this.props.disabled,name:"gameId",data:[{name:"tictactoe",value:"\u041a\u0440\u0435\u0441\u0442\u0438\u043a\u0438-\u043d\u043e\u043b\u0438\u043a\u0438"},{name:"sapper",value:"\u0421\u0430\u043f\u0451\u0440"},{name:"reversi",value:"\u0420\u0435\u0432\u0435\u0440\u0441\u0438"}],selected:this.state.gameId,onClick:this.selectGame}),Object(u.jsx)(w,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432",name:"max",disabled:this.props.disabled,value:this.state.max,min:this.state.gameGeneral.min,max:this.state.gameGeneral.max,onChange:function(t){e.setState({max:t.target.value>=e.state.gameGeneral.min&&t.target.value<=e.state.gameGeneral.max?t.target.value:e.state.gameGeneral.min})}}),Object(u.jsx)(I,{label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c?",name:"usePw",disabled:this.props.disabled,checked:this.state.usePw,onChange:function(t){return e.setState({usePw:t.target.checked})}}),Object(u.jsx)(S,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"pw",disabled:!this.state.usePw&&!0!==this.props.usePw}),Object(u.jsx)(I,{label:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0439?",name:"private",disabled:this.props.disabled,checked:this.state.private,onChange:function(t){return e.setState({private:t.target.checked})}}),Object(u.jsx)(I,{label:"\u0410\u0432\u0442\u043e\u0441\u0442\u0430\u0440\u0442",name:"autostart",disabled:this.props.disabled,checked:this.state.autostart,onChange:function(t){return e.setState({autostart:t.target.checked})}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u044b"}),void 0===this.state.gameId?null:this.renderSettings()]}),Object(u.jsx)("div",{children:void 0===this.props.roomId?Object(u.jsx)(u.Fragment,{children:"\u0412\u044b \u0441\u0442\u0430\u043d\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u043c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u043c \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b!"}):Object(u.jsxs)(u.Fragment,{children:["\u0418\u0433\u0440\u043e\u043a\u0438 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435",this.props.users.map((function(e){return Object(u.jsxs)("div",{className:e.connected?null:P.a.disconnected,children:[Object(u.jsx)("div",{children:e.userId}),Object(u.jsxs)("div",{children:[" ",e.userName]})]})}))]})})]}),Object(u.jsx)("div",{children:this.props.children})]})]})})}}]),n}(b.a.Component),W=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).createRoom=function(t){t.preventDefault();var n={name:t.target.name.value,gameId:t.target.gameId.value,usePw:t.target.usePw.checked,private:t.target.private.checked,autostart:t.target.autostart.checked,max:t.target.max.value,pw:t.target.usePw.value?t.target.pw.value||"":void 0,userName:localStorage.getItem("userName"),gameProps:e.getPropsByGameId(t.target.gameId.value,t)};n.name.length<3||n.name.length>20||e.props.ws.send(JSON.stringify({type:"create",data:n}))},e}return Object(o.a)(n,[{key:"getPropsByGameId",value:function(e,t){switch(e){case"tictactoe":return{timeTurn:1e3*+t.target.timeTurn.value,roundsForWin:+t.target.roundsForWin.value,boardSize:+t.target.boardSize.value,cellsForWin:+t.target.cellsForWin.value};default:return{}}}},{key:"render",value:function(){return Object(u.jsx)(E,{gameId:this.props.gameId,onSubmit:this.createRoom,children:Object(u.jsx)(C,{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443"})})}}]),n}(b.a.Component),z=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).joinRoom=function(t){t.preventDefault(),e.props.ws.send(JSON.stringify({type:"join",data:{roomId:e.props.data.roomId,pw:t.target.usePw.checked?t.target.pw.value:void 0,userName:localStorage.getItem("userName")}}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsx)(E,s(s({},this.props.data),{},{disabled:this.props.disabled,onSubmit:this.joinRoom,children:Object(u.jsx)(C,{disabled:this.props.data.started,children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f"})}))}}]),n}(b.a.Component);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),H=d.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z",fill:"#000"});function F(e,t){var n=e.title,r=e.titleId,a=D(e,["title","titleId"]);return d.createElement("svg",M({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,G,H)}var B=d.forwardRef(F),L=(n.p,n(73)),U=n.n(L),A=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).createNewRoom=function(){return r.props.setWindow(Object(u.jsx)(f,{setWindow:r.props.setWindow,children:Object(u.jsx)(W,{ws:r.ws,gameId:r.props.match.params.gameId,disabled:!1})}))},r.connectById=function(e){e.preventDefault(),r.ws.send(JSON.stringify({type:"connectbyroomid",data:e.target["connect-by-room-id"].value}))},r.state={lobbyList:[],privateRoomId:""},r.emitter=e.emitter,r}return Object(o.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=new WebSocket("ws://45.156.21.71:8082");t.onopen=function(){t.send(JSON.stringify({type:"list",data:{gameId:e.props.match.params.gameId,token:localStorage.getItem("token")}})),e.props.emitter.emit("displayGlobalChat",!0)},t.onmessage=function(t){var n=JSON.parse(t.data),r=n.data;switch(n.type){case"token":localStorage.setItem("token",r.token),localStorage.setItem("userId",r.userId),localStorage.setItem("userName","\u0413\u043e\u0441\u0442\u044c".concat(r.userId));break;case"list":e.setState({lobbyList:r});break;case"connectbyroomid":if(!1===r)return void alert("\u041a\u043e\u043c\u043d\u0430\u0442\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");e.props.setWindow(Object(u.jsx)(f,{setWindow:e.props.setWindow,children:Object(u.jsx)(z,{ws:e.ws,data:r.roomInfo,disabled:!0})}));break;case"join":e.props.setWindow(null),e.setState({roomId:r})}},t.onerror=function(t){e.props.emitter.emit("global","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0430\u0442): "+t)},this.ws=t}},{key:"componentWillUnmount",value:function(){this.ws.close()}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.gameId!==e.match.params.gameId&&this.ws.send(JSON.stringify({type:"list",data:{gameId:""+e.match.params.gameId}}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:U.a.lobby,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(k,{name:"search-input",placeholder:"\u041f\u043e\u0438\u0441\u043a",autoComplete:!1}),Object(u.jsx)(k,{name:"connect-by-room-id",placeholder:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043f\u043e id",autoComplete:!1,onSubmit:this.connectById}),Object(u.jsx)(_,{onClick:this.createNewRoom,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443"})]}),Object(u.jsx)("div",{children:this.state.lobbyList.map((function(t){return Object(u.jsx)(J,{data:t,ws:e.ws,emitter:e.props.emitter,setWindow:e.props.setWindow})}))})]}),void 0!==this.state.roomId&&!1!==this.state.roomId?Object(u.jsx)(h.a,{to:"/g/".concat(this.props.match.params.gameId,"/").concat(this.state.roomId)}):null]})}}]),n}(b.a.Component),J=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).players=function(){return r.props.data.users.map((function(e){return Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[e.userId,"#"]}),Object(u.jsx)("span",{children:e.userName})]})}))},r.tags=function(){var e=[];switch(r.props.data.gameId){case"tictactoe":e.push("Tic tac toe")}return r.props.data.usePw&&e.push("password"),e.push("public"),r.props.data.autostart&&e.push("autostart"),e.map((function(e){return Object(u.jsx)("div",{children:e})}))},r.moreDetails=function(){return r.props.setWindow(Object(u.jsx)(f,{setWindow:r.props.setWindow,children:Object(u.jsx)(z,{ws:r.props.ws,data:r.props.data,disabled:!0})}))},r.leave=function(){r.props.ws.send(JSON.stringify({type:"leave",data:r.props.data.roomId})),r.setState({connected:!1}),r.props.emitter.emit("private","\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b #"+r.props.data.roomId)},r.state={connected:e.data.users.some((function(e){return e.userId===+localStorage.userId&&!1===e.leave}))},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:U.a.item,children:[this.state.connected?Object(u.jsxs)("div",{className:U.a.connected,children:[Object(u.jsx)("div",{children:"\u0412\u044b \u0443\u0436\u0435 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0441\u044c \u043a \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435!"}),Object(u.jsx)("div",{onClick:this.reconnect,children:Object(u.jsx)(p.b,{to:"/g/".concat(this.props.data.gameId,"/").concat(this.props.data.roomId),children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})}),Object(u.jsx)("div",{onClick:this.leave,children:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c"})]}):null,Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:["#",this.props.data.roomId]}),Object(u.jsx)("span",{children:this.props.data.name})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[this.props.data.users.length||0," / ",this.props.data.max," : "]}),Object(u.jsx)("span",{children:this.players()})]}),Object(u.jsx)("div",{children:this.tags()})]}),this.state.connected?null:Object(u.jsx)("div",{children:Object(u.jsxs)(_,{onClick:this.moreDetails,children:[Object(u.jsx)("span",{children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(u.jsx)(B,{})]})})]})]})}}]),n}(b.a.Component),R=A,T=n(37);var V=n(36);function K(e){return function(e){if(Array.isArray(e))return Object(T.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(V.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),Y=d.createElement("path",{d:"M8 4h13v2H8V4zm-5-.5h3v3H3v-3zm0 7h3v3H3v-3zm0 7h3v3H3v-3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"#000"});function $(e,t){var n=e.title,r=e.titleId,a=Z(e,["title","titleId"]);return d.createElement("svg",X({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,Q,Y)}var q=d.forwardRef($),ee=(n.p,n(74)),te=n.n(ee),ne=Object(d.lazy)((function(){return n.e(5).then(n.bind(null,87))})),re=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentWillMount=function(){var e=new WebSocket("ws://45.156.21.71:8083");e.onopen=function(){r.emitterUnsubPrivateChat=r.props.emitter.sub("privateChatSend",(function(t){return e.send(JSON.stringify({type:"chat",data:t}))})),e.send(JSON.stringify({type:"connect",data:{roomId:r.props.match.params.roomId,token:localStorage.getItem("token")}})),r.props.emitter.emit("displayGlobalChat",!1),r.emitterUnsubAction=r.props.emitter.sub("action",(function(t){return e.send(JSON.stringify({type:"game",data:t}))}))},e.onmessage=function(e){var t=JSON.parse(e.data),n=t.data;switch(t.type){case"connect":r.setState({roomInfo:n.roomInfo}),void 0!==n.gameInfo&&r.setState({gameInfo:n.gameInfo}),r.props.emitter.emit("private","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u043a\u043e\u043c\u043d\u0430\u0442\u0435 #"+r.state.roomInfo.roomId),r.props.emitter.emit("privateChatHistory",n.chat);break;case"chat":r.props.emitter.emit("private",n);break;case"userJoin":r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{users:[].concat(K(e.roomInfo.users),[n])})}}));break;case"userLeave":var a=[];r.state.roomInfo.started?r.state.roomInfo.users.forEach((function(e){return e.userId!==n?a.push(e):a.push(s(s({},e),{},{leave:!0}))})):r.state.roomInfo.users.forEach((function(e){return e.userId!==n?a.push(e):null})),r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{users:a})}}));break;case"userDisconnected":var i=[];r.state.roomInfo.users.forEach((function(e){return e.userId!==n?i.push(e):i.push(s(s({},e),{},{connected:!1}))})),r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{users:i})}}));break;case"userConnected":var o=[];r.state.roomInfo.users.forEach((function(e){return e.userId!==n?o.push(e):o.push(s(s({},e),{},{connected:!0}))})),r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{users:o})}}));break;case"start":r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{started:!0}),gameInfo:n}}));break;case"finished":r.props.emitter.emit("private","\u041c\u0430\u0442\u0447 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"),r.setState((function(e){return{roomInfo:s(s({},e.roomInfo),{},{started:!1})}}));break;case"game":r.props.emitter.emit("game",n)}},e.onerror=function(e){r.props.emitter.emit("global","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (\u041a\u043e\u043c\u043d\u0430\u0442\u0430): "+e)},e.onclose=function(e){r.emitterUnsubAction()},r.ws=e},r.startTheGame=function(e){e.preventDefault(),r.ws.send(JSON.stringify({type:"start"}))},r.state={roomInfo:void 0},r}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){try{this.emitterUnsubPrivateChat(),this.emitterUnsubAction(),this.ws.close()}catch(e){}this.props.emitter.emit("private","\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 \u043a\u043e\u043c\u043d\u0430\u0442\u044b")}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.roomId!==e.match.params.roomId&&this.ws.send(JSON.stringify({type:"connect",data:{roomId:e.match.params.roomId,token:localStorage.getItem("token")}}))}},{key:"getGameComponent",value:function(){if(this.state.roomInfo.started&&void 0!==this.state.gameInfo)switch(this.state.roomInfo.gameId){case"tictactoe":return Object(u.jsx)(ne,{gameInfo:this.state.gameInfo,players:this.state.roomInfo.users,emitter:this.props.emitter})}}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:te.a.room,children:void 0===this.state.roomInfo?Object(u.jsx)(_,{onClick:function(){return e.setState({redirectToLobby:!0})},children:"\u0412 \u043b\u043e\u0431\u0431\u0438"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:te.a.match,children:Object(u.jsx)(d.Suspense,{children:this.getGameComponent()})}),this.state.roomInfo.started?Object(u.jsxs)(p.b,{to:"/g/".concat(this.props.match.params.gameId),className:te.a.btnToLobby,children:[Object(u.jsx)("span",{children:"\u0412 \u043b\u043e\u0431\u0431\u0438"}),Object(u.jsx)(q,{})]}):Object(u.jsxs)(E,s(s({},this.state.roomInfo),{},{disabled:!0,children:[this.state.roomInfo.creator!==+localStorage.userId?null:Object(u.jsx)(_,{onClick:this.startTheGame,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"}),Object(u.jsx)(_,{onClick:function(){return e.setState({redirectToLobby:!0})},children:"\u0412 \u043b\u043e\u0431\u0431\u0438"})]}))]})}),this.state.redirectToLobby?Object(u.jsx)(h.a,{to:"/g/".concat(this.props.match.params.gameId)}):null]})}}]),n}(b.a.Component),ae=n(75),se=n.n(ae),ie=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={leftbarDisplay:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"".concat(se.a.leftbar,"  ").concat(this.state.leftbarDisplay?se.a.leftbarDisplay:""),children:Object(u.jsxs)("div",{className:se.a.games,children:[Object(u.jsx)("div",{children:Object(u.jsx)(p.b,{to:"/g/tictactoe",children:Object(u.jsx)("div",{children:"\u041a\u0440\u0435\u0441\u0442\u0438\u043a\u0438-\u043d\u043e\u043b\u0438\u043a\u0438"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(p.b,{to:"/g/sapper",children:Object(u.jsx)("div",{children:"\u0421\u0430\u043f\u0451\u0440"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(p.b,{to:"/g/reversi",children:Object(u.jsx)("div",{children:"\u0420\u0435\u0432\u0435\u0440\u0441\u0438"})})})]})}),Object(u.jsx)("div",{className:se.a.leftbarStateBtn,onClick:function(){return e.setState((function(e){return{leftbarDisplay:!e.leftbarDisplay}}))},children:Object(u.jsx)(q,{})})]})}}]),n}(b.a.Component);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var le=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),ue=d.createElement("path",{d:"M1.923 9.37c-.51-.205-.504-.51.034-.689l19.086-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.475.553-.717.07L11 13 1.923 9.37zm4.89-.2l5.636 2.255 3.04 6.082 3.546-12.41L6.812 9.17z",fill:"#000"});function de(e,t){var n=e.title,r=e.titleId,a=ce(e,["title","titleId"]);return d.createElement("svg",oe({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,le,ue)}var be=d.forwardRef(de);n.p;function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var me=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),je=d.createElement("path",{d:"M5.763 17H20V5H4v13.385L5.763 17zm.692 2L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455z",fill:"#000"});function fe(e,t){var n=e.title,r=e.titleId,a=pe(e,["title","titleId"]);return d.createElement("svg",he({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,me,je)}var ve=d.forwardRef(fe);n.p;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ye=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),xe=d.createElement("path",{d:"M11.95 7.95l-1.414 1.414L8 6.828 8 20H6V6.828L3.465 9.364 2.05 7.95 7 3l4.95 4.95zm10 8.1L17 21l-4.95-4.95 1.414-1.414 2.537 2.536L16 4h2v13.172l2.536-2.536 1.414 1.414z",fill:"#000"});function we(e,t){var n=e.title,r=e.titleId,a=ge(e,["title","titleId"]);return d.createElement("svg",Oe({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,ye,xe)}var Ie=d.forwardRef(we);n.p;function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ce=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),_e=d.createElement("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"});function Ne(e,t){var n=e.title,r=e.titleId,a=ke(e,["title","titleId"]);return d.createElement("svg",Se({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,Ce,_e)}var Pe=d.forwardRef(Ne),Ee=(n.p,n(76)),We=n.n(Ee),ze=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentWillUnmount=function(){r.emitterUnsubGlobal(),r.emitterUnsubDisplayGlobalChat(),r.emitterUnsubPrivate(),r.emitterUnsubPrivateChatHistory(),r.ws.close()},r.send=function(e){e.preventDefault();var t=e.target.inputMessage.value;if(""!==t){var n={token:localStorage.getItem("token"),text:t,userName:localStorage.getItem("userName")},a={text:n.text,userName:n.userName,date:Date.now(),userId:localStorage.getItem("userId")};if(r.state.globalChat)r.ws.send(JSON.stringify({type:"chat",data:n})),r.globalMessage(a);else try{r.props.emitter.emit("privateChatSend",n),r.privateMessage(a)}catch(s){return console.log("\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u043a\u043e\u043c\u043d\u0430\u0442\u0435")}r.setState({prints:""})}},r.globalMessage=function(e){return r.setState((function(t){return{msgsG:[].concat(K(t.msgsG),[e])}}))},r.privateMessage=function(e){return r.setState((function(t){return{msgsP:[].concat(K(t.msgsP),[e])}}))},r.displayChat=function(){return r.setState({hidden:!r.state.hidden})},r.state={msgsG:[],msgsP:[],globalChat:!0,hidden:!0,prints:""},r}return Object(o.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=new WebSocket("ws://45.156.21.71:8081");void 0===localStorage.userName&&localStorage.setItem("userName","\u0413\u043e\u0441\u0442\u044c228"),t.onopen=function(){},t.onmessage=function(t){var n=JSON.parse(t.data),r=n.data;switch(n.type){case"chat":e.globalMessage(r);break;case"history":e.setState((function(e){return{msgsG:e.msgsG.concat(r)}})),e.globalMessage("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0447\u0430\u0442!");break;default:return}},t.onerror=function(t){e.globalMessage("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0430\u0442): "+t.code)},this.ws=t}},{key:"componentDidMount",value:function(){var e=this;this.emitterUnsubGlobal=this.props.emitter.sub("global",(function(t){return e.globalMessage(t)})),this.emitterUnsubPrivate=this.props.emitter.sub("private",(function(t){return e.privateMessage(t)})),this.emitterUnsubDisplayGlobalChat=this.props.emitter.sub("displayGlobalChat",(function(t){return e.setState({globalChat:t})})),this.emitterUnsubPrivateChatHistory=this.props.emitter.sub("privateChatHistory",(function(t){var n,r=[],a=Object(O.a)(t);try{var s=function(){var t=n.value;if(e.state.msgsP.some((function(e){return e.date===t.date})))return"break";r.push(t)};for(a.s();!(n=a.n()).done;){if("break"===s())break}}catch(i){a.e(i)}finally{a.f()}e.setState((function(e){return{msgsP:e.msgsP.concat(r)}})),e.privateMessage("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0447\u0430\u0442!")}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"".concat(We.a.chat," ").concat(this.state.hidden?"":We.a.chatDisplay),children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("div",{onClick:function(){return e.setState({globalChat:!e.state.globalChat})},children:Object(u.jsx)(Ie,{className:this.state.globalChat?null:We.a.global})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:this.state.globalChat?We.a.selected:null,children:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0430\u0442"}),Object(u.jsx)("div",{className:this.state.globalChat?null:We.a.selected,children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u0447\u0430\u0442"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{onClick:this.displayChat,children:Object(u.jsx)(Pe,{})})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Me,{msgs:this.state.globalChat?this.state.msgsG:this.state.msgsP})}),Object(u.jsx)("div",{children:Object(u.jsx)(k,{name:"inputMessage",value:this.state.prints,onChange:function(t){return e.setState({prints:t.value})},autocomplete:"off",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",onSubmit:this.send,children:Object(u.jsx)(be,{})})})]}),Object(u.jsx)("div",{className:We.a.chatStateBtn,onClick:this.displayChat,children:Object(u.jsx)(ve,{})})]})}}]),n}(b.a.Component),Me=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.msgs.map((function(e){return void 0!==e.userName?Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[new Date(e.date).toLocaleString("ru",{minute:"numeric",hour:"numeric"}),"  "]}),Object(u.jsx)("span",{children:e.userName}),Object(u.jsxs)("span",{children:[": ",e.text]})]}):Object(u.jsx)("div",{className:We.a.system,children:Object(u.jsx)("span",{children:e})})}))}}]),n}(b.a.Component),De=ze,Ge=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentShouldUpdate=function(){return r.displayButton=!0},r.saveChanges=function(e){e.preventDefault(),e.target.userName.value.length<20&&localStorage.setItem("userName",e.target.userName.value)},r.state={displayButton:!1,userName:localStorage.getItem("userName")},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:P.a.roomInfo,children:[Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(u.jsxs)("form",{onSubmit:this.saveChanges,children:[Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),Object(u.jsx)(S,{name:"userName",value:this.state.userName,onChange:function(t){return e.setState({userName:t.value,displayButton:!0})}})]})]})}),Object(u.jsx)("div",{children:this.state.displayButton?Object(u.jsx)(C,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}):null})]})]})}}]),n}(b.a.Component);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Be=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),Le=d.createElement("path",{d:"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z",fill:"#000"});function Ue(e,t){var n=e.title,r=e.titleId,a=Fe(e,["title","titleId"]);return d.createElement("svg",He({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,Be,Le)}var Ae=d.forwardRef(Ue);n.p;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Te=d.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),Ve=d.createElement("path",{d:"M21 18v3h-2v-3h-2v-2h6v2h-2zM5 18v3H3v-3H1v-2h6v2H5zm6-12V3h2v3h2v2H9V6h2zm0 4h2v11h-2V10zm-8 4V3h2v11H3zm16 0V3h2v11h-2z",fill:"#000"});function Ke(e,t){var n=e.title,r=e.titleId,a=Re(e,["title","titleId"]);return d.createElement("svg",Je({viewBox:"0 0 24 24",width:24,height:24,ref:t,"aria-labelledby":r},a),n?d.createElement("title",{id:r},n):null,Te,Ve)}var Xe=d.forwardRef(Ke),Ze=(n.p,n(77)),Qe=n.n(Ze),Ye=Object(d.lazy)((function(){return n.e(10).then(n.bind(null,82))})),$e=Object(d.lazy)((function(){return n.e(9).then(n.bind(null,83))})),qe=Object(d.lazy)((function(){return n.e(8).then(n.bind(null,84))})),et=Object(d.lazy)((function(){return n.e(7).then(n.bind(null,85))})),tt=Object(d.lazy)((function(){return n.e(12).then(n.bind(null,86))})),nt=Object(d.lazy)((function(){return n.e(11).then(n.bind(null,88))})),rt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).showManual=function(){var e=null;switch(r.props.match.params.gameId){case"tictactoe":e=Object(u.jsx)(Ye,{});break;case"seabattle":e=Object(u.jsx)($e,{});break;case"reversi":e=Object(u.jsx)(et,{});break;case"sapper":e=Object(u.jsx)(qe,{})}r.props.setWindow(Object(u.jsx)(d.Suspense,{children:Object(u.jsx)(f,{setWindow:r.props.setWindow,children:e})}))},r.showSettings=function(){return r.props.setWindow(Object(u.jsx)(f,{setWindow:r.props.setWindow,children:Object(u.jsx)(Ge,{})}))},r.showRules=function(){return r.props.setWindow(Object(u.jsx)(f,{setWindow:r.props.setWindow,children:Object(u.jsx)(nt,{})}))},r.showSupport=function(){return r.props.setWindow(Object(u.jsx)(f,{setWindow:r.props.setWindow,children:Object(u.jsx)(tt,{})}))},r.displayGameName=function(){switch(r.props.match.params.gameId){case"tictactoe":return"\u041a\u0440\u0435\u0441\u0442\u0438\u043a\u0438-\u043d\u043e\u043b\u0438\u043a\u0438";case"dots":return"\u0422\u043e\u0447\u043a\u0438";case"seabattle":return"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439";case"sapper":return"\u0421\u0430\u043f\u0451\u0440";case"reversi":return"\u0420\u0438\u0432\u0435\u0440\u0441\u0438";default:return}},r.state={displayMenu:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"".concat(Qe.a.topbar," ").concat(this.state.displayMenu?Qe.a.displayMenu:null),children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{onClick:function(){return e.setState((function(e){return{displayMenu:!e.displayMenu}}))},children:Object(u.jsx)(Ae,{})}),Object(u.jsxs)("div",{onClick:function(){return e.setState({displayMenu:!1})},children:[Object(u.jsx)(p.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(u.jsx)("div",{onClick:this.showRules,children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"}),Object(u.jsx)("div",{onClick:this.showSupport,children:"\u041f\u043e\u043c\u043e\u0449\u044c"})]})]}),Object(u.jsxs)("div",{onClick:this.showManual,children:[Object(u.jsx)("span",{children:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e: "}),Object(u.jsx)("span",{children:this.displayGameName()})]}),Object(u.jsxs)("div",{onClick:this.showSettings,children:[Object(u.jsxs)("div",{children:["#",localStorage.getItem("userId")]}),Object(u.jsx)("div",{children:localStorage.getItem("userName")}),Object(u.jsx)("div",{children:Object(u.jsx)(Xe,{})})]})]})})}}]),n}(b.a.Component),at=n(78),st=n.n(at),it=n(35),ot=n.n(it),ct=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setWindow=function(e){r.setState({popupElement:e})},r.state={popupElement:null},r}return Object(o.a)(n,[{key:"componentWillMount",value:function(){void 0===this.emitter&&(this.emitter=new lt)}},{key:"componentDidMount",value:function(){new ot.a({element:"#grad-backg",direction:"left-right",states:{"default-state":{gradients:[["#EF8D5B","#EFB75B"],["#EFC55B","#EFDA5B"],["#E8ED5A","#EF815B"]],transitionSpeed:2e4}}})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:["  ",Object(u.jsx)(h.d,{children:Object(u.jsx)(h.b,{path:"/g/:gameId",render:function(t){return Object(u.jsx)(rt,s(s({},t),{},{setWindow:e.setWindow}))}})}),Object(u.jsxs)("div",{className:st.a.page,children:[Object(u.jsxs)(h.d,{children:[Object(u.jsx)(h.b,{path:"/g/:gameId/:roomId",render:function(t){return Object(u.jsx)(re,s(s({},t),{},{emitter:e.emitter}))}}),Object(u.jsx)(h.b,{path:"/g/:gameId",render:function(t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ie,s({},t)),Object(u.jsx)(R,s(s({},t),{},{emitter:e.emitter,setWindow:e.setWindow}))]})}})]}),Object(u.jsx)(De,{emitter:this.emitter})]}),Object(u.jsx)("canvas",{id:"grad-backg"}),Object(u.jsx)(d.Suspense,{children:this.state.popupElement})]})}}]),n}(b.a.Component),lt=function(){function e(){Object(i.a)(this,e),this.events=[]}return Object(o.a)(e,[{key:"sub",value:function(e,t){var n=this;return Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter((function(e){return t!==e}))}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].forEach((function(e){return e.call.apply(e,[null].concat(n))}))}}]),e}();t.default=ct},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(36);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(37);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},37:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},38:function(e,t,n){e.exports={roomInfo:"roomInfo_roomInfo__1mFgj",disconnected:"roomInfo_disconnected__24G-1"}},71:function(e,t,n){e.exports={popup:"popup_popup__2rUWX"}},72:function(e,t,n){e.exports={input:"formElements_input__383-J",select:"formElements_select__3_H9M",number:"formElements_number__1eHwP",checkbox:"formElements_checkbox__1Ucvc",button:"formElements_button__2SfXx"}},73:function(e,t,n){e.exports={lobby:"lobby_lobby__g4Omn",item:"lobby_item__3xs5D",connected:"lobby_connected__-Ig30"}},74:function(e,t,n){e.exports={room:"room_room__2rs_b",match:"room_match__2zuUt",btnToLobby:"room_btnToLobby__KkDG2"}},75:function(e,t,n){e.exports={leftbar:"leftbar_leftbar__K-yD4",leftbarDisplay:"leftbar_leftbarDisplay__2V4rz",leftbarStateBtn:"leftbar_leftbarStateBtn__Q5aZH",games:"leftbar_games__1Y0MG"}},76:function(e,t,n){e.exports={chat:"chat_chat__2N-A0",global:"chat_global__2uImr",selected:"chat_selected__2tg7k",system:"chat_system__2tgLF",chatDisplay:"chat_chatDisplay__1Lkwg",chatStateBtn:"chat_chatStateBtn__1Murg"}},77:function(e,t,n){e.exports={topbar:"topbar_topbar__2f6mz",displayMenu:"topbar_displayMenu__3LvLZ"}},78:function(e,t,n){e.exports={page:"app_page__10lvp"}}}]);
//# sourceMappingURL=4.6dd99496.chunk.js.map