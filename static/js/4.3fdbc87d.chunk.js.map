{"version":3,"sources":["static/css/lobby.module.css","static/css/room.module.css","static/css/leftbar.module.css","static/css/chat.module.css","static/css/topbar.module.css","static/css/app.module.css","components/elements/RoomInfo.js","lang/Lang.js","components/elements/RoomCreate.js","components/elements/RoomDetails.js","static/img/information-fill.svg","components/elements/Lobby.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","static/img/list-check.svg","components/elements/Room.js","components/elements/Leftbar.js","static/img/send-plane-line.svg","static/img/chat-4-line.svg","static/img/arrow-up-down-line.svg","static/img/close-fill.svg","components/elements/Chat.js","static/img/menu-line.svg","static/img/sound-module-line.svg","components/elements/Topbar.js","components/App.js"],"names":["module","exports","RoomInfo","props","renderSettings","state","gameId","label","name","value","roundsForWin","min","max","onChange","e","setState","target","timeTurn","boardSize","cellsForWin","selectGame","gameGeneral","undefined","usePw","private","autostart","this","className","styles","roomInfo","roomId","onSubmit","placeholder","disabled","data","namesArray","gamesName","json","prop","push","selected","onClick","checked","users","map","user","connected","disconnected","userId","userName","children","React","Component","CreateNewRoom","createRoom","preventDefault","settings","pw","localStorage","getItem","gameProps","getPropsByGameId","length","ws","send","JSON","stringify","type","RoomDetails","joinRoom","started","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","d","_ref3","SvgInformationFill","_ref","svgRef","title","titleId","viewBox","width","height","ref","id","ForwardRef","Lobby","createNewRoom","setPopupUntracked","Popup","match","params","connectById","lobbyList","privateRoomId","emitter","WebSocket","onopen","token","emit","onmessage","messageParsed","parse","setItem","alert","onerror","close","nextProps","lobby","autoComplete","room","to","DisplayRoom","players","tags","result","tag","moreDetails","leave","some","item","reconnect","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","SvgListCheck","Tictactoe","lazy","Room","componentWillMount","emitterUnsubPrivateChat","sub","emitterUnsubAction","gameInfo","chat","prevState","newArrayUsers","forEach","onclose","startTheGame","redirectToLobby","getGameComponent","btnToLobby","creator","Left","leftbarDisplay","leftbar","games","leftbarStateBtn","SvgSendPlaneLine","SvgChat4Line","SvgArrowUpDownLine","SvgCloseFill","Chat","componentWillUnmount","emitterUnsubGlobal","emitterUnsubDisplayGlobalChat","emitterUnsubPrivate","emitterUnsubPrivateChatHistory","messageValue","inputMessage","messageSendObject","text","messageDisplayObject","date","Date","now","globalChat","globalMessage","privateMessage","console","log","prints","msg","msgsG","msgsP","displayChat","hidden","concat","msgData","boolen","msgsNewRoomArray","elementOfMsgsP","chatDisplay","global","msgs","chatStateBtn","Messages","toLocaleString","minute","hour","system","SvgMenuLine","SvgSoundModuleLine","Topbar","displayMenu","topbar","search","App","popupElement","Emitter","backGradient","Granim","element","direction","states","gradients","transitionSpeed","destroy","path","component","page","render","Leftbar","events","eventName","fun","filter","eventFn"],"mappings":"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","file":"static/js/4.3fdbc87d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lobby\":\"lobby_lobby__g4Omn\",\"item\":\"lobby_item__3xs5D\",\"connected\":\"lobby_connected__-Ig30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"room\":\"room_room__2rs_b\",\"match\":\"room_match__2zuUt\",\"btnToLobby\":\"room_btnToLobby__KkDG2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftbar\":\"leftbar_leftbar__K-yD4\",\"leftbarDisplay\":\"leftbar_leftbarDisplay__2V4rz\",\"leftbarStateBtn\":\"leftbar_leftbarStateBtn__Q5aZH\",\"games\":\"leftbar_games__1Y0MG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"chat_chat__2N-A0\",\"global\":\"chat_global__2uImr\",\"selected\":\"chat_selected__2tg7k\",\"system\":\"chat_system__2tgLF\",\"chatDisplay\":\"chat_chatDisplay__1Lkwg\",\"chatStateBtn\":\"chat_chatStateBtn__1Murg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"topbar_topbar__2f6mz\",\"displayMenu\":\"topbar_displayMenu__3LvLZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"app_page__10lvp\"};","import React from \"react\";\r\nimport {Input, InputNumber, Select, Checkbox} from '../elements/FormElements';\r\nimport styles from '../../static/css/roomInfo.module.css'\r\nimport {allGames} from '../../lang/Lang.js'\r\n\r\nexport default class RoomInfo extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: props.name,\r\n      gameId: props.gameId,\r\n      usePw: props.usePw||false,\r\n      private: props.private||false,\r\n      autostart: props.autostart||true,\r\n      max: props.max||2,\r\n    }\r\n  }\r\n  renderSettings = () => {\r\n    switch (this.state.gameId) {\r\n      case \"tictactoe\":  \r\n        return(\r\n        <>\r\n          <InputNumber label=\"Количество раундов для победы\" \r\n            name=\"roundsForWin\"\r\n            value={this.state.roundsForWin}\r\n            min={3} max={20}\r\n            onChange={(e) => this.setState({roundsForWin: e.target.value>=3&&e.target.value<=20?e.target.value:5})}\r\n            />\r\n          <InputNumber label=\"Время на ход\" \r\n            name=\"timeTurn\"\r\n            value={this.state.timeTurn}\r\n            min={5} max={60}\r\n            onChange={(e) => this.setState({timeTurn: e.target.value>=5&&e.target.value<=60?e.target.value:20})} \r\n            />\r\n          <InputNumber label=\"Размер поля\" \r\n            name=\"boardSize\"\r\n            value={this.state.boardSize}\r\n            min={3} max={40}\r\n            onChange={(e) => this.setState({boardSize: e.target.value>=3&&e.target.value<=40?e.target.value:19})} \r\n            />\r\n          <InputNumber label=\"Длина ряда для победы\" \r\n            name=\"cellsForWin\"\r\n            value={this.state.cellsForWin}\r\n            min={3} max={this.state.boardSize}\r\n            onChange={(e) => this.setState({cellsForWin: e.target.value>=3&&e.target.value<=this.state.boardSize?e.target.value:3})} \r\n            />  \r\n        </>)\r\n      default: return\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.selectGame()\r\n  }\r\n  selectGame = (e) => {\r\n    const gameId = e!==undefined?e.target.name:this.state.gameId\r\n    let gameGeneral \r\n    switch(gameId) {\r\n      case 'tictactoe': gameGeneral = {\r\n        min: 2,\r\n        max: 3,\r\n      }\r\n      this.setState({\r\n        roundsForWin: 5,\r\n        timeTurn: 20,\r\n        boardSize: 19,\r\n        cellsForWin: 5,\r\n      })\r\n      break\r\n      case 'sapper': gameGeneral = {\r\n        min: 2,\r\n        max: 2,\r\n      }\r\n      break\r\n      case 'reversi': gameGeneral = {\r\n        min: 2,\r\n        max: 2,\r\n      }\r\n      break\r\n      default: break\r\n    }\r\n    this.setState({\r\n      gameId: gameId,\r\n      max: gameGeneral.min,\r\n      gameGeneral: gameGeneral,\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n      <>\r\n      <div className={styles.roomInfo}>\r\n        <div>\r\n          <div>{this.props.roomId===undefined?\"Создание комнаты\": \"Комната #\"+this.props.roomId}</div>\r\n        </div>\r\n        <form onSubmit={this.props.onSubmit}>\r\n          <div>\r\n            <div>\r\n              <div>Общие настройки</div>\r\n              <Input placeholder=\"Введите название комнаты\" name=\"name\"\r\n                value={this.state.name}\r\n                onChange={(e) => this.setState({name: e.target.value})}\r\n                disabled={this.props.name===undefined?false:true} /> \r\n              <Select disabled={this.props.disabled} name=\"gameId\" data={(() => {\r\n                let namesArray = []\r\n                const gamesName = allGames()\r\n                for (let prop in gamesName) {\r\n                  namesArray.push({name: prop, value: gamesName[prop]})\r\n                }\r\n                return namesArray\r\n              })()}\r\n                selected={this.state.gameId}\r\n                onClick={this.selectGame} />\r\n              <InputNumber label=\"Количество игроков\" name=\"max\"\r\n                disabled={this.props.disabled} \r\n                value={this.state.max} \r\n                min={this.state.gameGeneral.min} max={this.state.gameGeneral.max}\r\n                onChange={(e) => {this.setState({max: e.target.value>=this.state.gameGeneral.min&&e.target.value<=this.state.gameGeneral.max?e.target.value:this.state.gameGeneral.min})}} \r\n                />\r\n              <Checkbox label=\"Использовать пароль?\" name=\"usePw\"\r\n                disabled={this.props.disabled} \r\n                checked={this.state.usePw} \r\n                onChange={(e) => this.setState({usePw: e.target.checked})}/>\r\n              <Input placeholder=\"Введите пароль\" name=\"pw\"\r\n                disabled={this.state.usePw||this.props.usePw===true?false:true} />\r\n              <Checkbox label=\"Сделать приватной?\" name=\"private\"\r\n                disabled={this.props.disabled} \r\n                checked={this.state.private}\r\n                onChange={(e) => this.setState({private: e.target.checked})} />\r\n              <Checkbox label=\"Автостарт\" name=\"autostart\"\r\n                disabled={this.props.disabled}\r\n                checked={this.state.autostart} \r\n                onChange={(e) => this.setState({autostart: e.target.checked})} />\r\n            </div>\r\n            <div>\r\n              <div>Настройки игры</div>\r\n              {this.state.gameId===undefined?null:this.renderSettings()}\r\n            </div>\r\n            <div>\r\n              {this.props.roomId===undefined?<>Вы станите первым участником этой комнаты!</>:\r\n                <>\r\n                  Игроки в текущей комнате\r\n                  {this.props.users.map(user => <div className={user.connected?null:styles.disconnected}><div>{user.userId}</div><div> {user.userName}</div></div>)}\r\n                </>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div>\r\n            {this.props.children}\r\n          </div>\r\n        </form>\r\n      </div>\r\n      </>\r\n    )\r\n  }\r\n}","import json from './ru-games.json'\r\nfunction gameById(gameId) {\r\n  return json[gameId]\r\n}\r\nfunction allGames() {\r\n  return json\r\n}\r\nexport {gameById, allGames}","import React from \"react\";\r\nimport RoomInfo from './RoomInfo';\r\nimport {InputButtonSubmit} from './FormElements';\r\n\r\nexport default class CreateNewRoom extends React.Component {\r\n\r\n  createRoom = (e) => {\r\n    e.preventDefault()\r\n    const settings = {\r\n      name: e.target.name.value,\r\n      gameId: e.target.gameId.value,\r\n      usePw: e.target.usePw.checked,\r\n      private: e.target.private.checked,\r\n      autostart: e.target.autostart.checked,\r\n      max: e.target.max.value,\r\n      pw: e.target.usePw.value?e.target.pw.value||'':undefined,\r\n      userName: localStorage.getItem(\"userName\"),\r\n      gameProps: this.getPropsByGameId(e.target.gameId.value, e)\r\n    }\r\n    if (settings.name.length<3||settings.name.length>20) return \r\n    this.props.ws.send(JSON.stringify({type: 'create', data: settings}))\r\n  }\r\n  getPropsByGameId(gameId, e) {\r\n    switch (gameId) {\r\n      case \"tictactoe\": return {\r\n        timeTurn: +e.target.timeTurn.value*1000,\r\n        roundsForWin: +e.target.roundsForWin.value,\r\n        boardSize: +e.target.boardSize.value,\r\n        cellsForWin: +e.target.cellsForWin.value,\r\n      }\r\n      default: return {}\r\n    }\r\n  }\r\n  render() {\r\n    return(\r\n        <RoomInfo gameId={this.props.gameId} onSubmit={this.createRoom}>\r\n          <InputButtonSubmit>Создать комнату</InputButtonSubmit>\r\n        </RoomInfo>\r\n    )\r\n  }\r\n}","import React from \"react\";\r\nimport RoomInfo from './RoomInfo';\r\nimport {InputButtonSubmit} from './FormElements';\r\n\r\nexport default class RoomDetails extends React.Component {\r\n  \r\n  joinRoom = (e) => {\r\n    e.preventDefault()\r\n    this.props.ws.send(JSON.stringify({\r\n      type: 'join', \r\n      data: {\r\n        roomId: this.props.data.roomId, \r\n        pw: e.target.usePw.checked?e.target.pw.value:undefined,\r\n        userName: localStorage.getItem('userName')\r\n      }\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return(\r\n        <RoomInfo {...this.props.data} disabled={this.props.disabled} onSubmit={this.joinRoom} >\r\n          <InputButtonSubmit disabled={this.props.data.started}>Подключиться</InputButtonSubmit>\r\n        </RoomInfo>\r\n    )\r\n  }\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgInformationFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInformationFill);\nexport default __webpack_public_path__ + \"static/media/information-fill.812df30e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Popup from './Popup';\r\nimport RoomCreate from './RoomCreate';\r\nimport RoomDetails from './RoomDetails';\r\nimport {ReactComponent as SvgIconInfo} from '../../static/img/information-fill.svg'\r\nimport styles from '../../static/css/lobby.module.css'\r\nimport {InputTextSubmit, Button} from './FormElements'\r\n\r\n\r\nclass Lobby extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            lobbyList: [],\r\n            privateRoomId: '',\r\n        }\r\n        this.emitter = props.emitter\r\n    }\r\n\r\n    componentWillMount() {\r\n        const ws = new WebSocket(\"ws://45.156.21.71:8082\")\r\n        ws.onopen = () => {\r\n            ws.send(JSON.stringify({type: 'list', data: {gameId: this.props.match.params.gameId, token: localStorage.getItem('token')}}))\r\n            this.props.emitter.emit('displayGlobalChat', true)\r\n        }\r\n        ws.onmessage = (e) => {\r\n            const messageParsed = JSON.parse(e.data)\r\n            const data = messageParsed.data\r\n            switch (messageParsed.type) {\r\n                case 'token': \r\n                  localStorage.setItem('token', data.token)\r\n                  localStorage.setItem('userId', data.userId)\r\n                  localStorage.setItem('userName', `Гость${data.userId}`)\r\n                  break\r\n                case 'list': \r\n                    this.setState({lobbyList: data})\r\n                    break\r\n                case 'connectbyroomid': \r\n                    if (data===false) {\r\n                        alert('Комната не найдена')\r\n                        return\r\n                    }\r\n                    this.props.setPopupUntracked(\r\n                        <Popup setPopupUntracked={this.props.setPopupUntracked}>\r\n                            <RoomDetails ws={this.ws} data={data.roomInfo} disabled={true} /> \r\n                        </Popup>\r\n                    )\r\n                    break\r\n                case 'join': \r\n                    this.props.setPopupUntracked(null)\r\n                    this.setState({roomId: data})\r\n                    break\r\n                default: break\r\n            }\r\n        }\r\n        ws.onerror = (e) => {\r\n            this.props.emitter.emit('global', 'Ошибка соединения (Глобальный чат): ' + e)\r\n        }\r\n        this.ws=ws\r\n    }\r\n    componentWillUnmount() {\r\n        this.ws.close()\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if(this.props.match.params.gameId!==nextProps.match.params.gameId) this.ws.send(JSON.stringify({type: 'list', data: {gameId: \"\"+nextProps.match.params.gameId}}))\r\n    }\r\n    createNewRoom = () => this.props.setPopupUntracked(\r\n        <Popup setPopupUntracked={this.props.setPopupUntracked}>\r\n            <RoomCreate ws={this.ws} gameId={this.props.match.params.gameId} disabled={false}/> \r\n        </Popup>\r\n        )\r\n    connectById = (e) => {\r\n        e.preventDefault()\r\n        this.ws.send(JSON.stringify({type: 'connectbyroomid', data: e.target['connect-by-room-id'].value}))\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n        <>      \r\n            <div className={styles.lobby}>\r\n                <div>\r\n                    <InputTextSubmit name=\"search-input\" placeholder=\"Поиск\" autoComplete={false} />\r\n                    <InputTextSubmit name=\"connect-by-room-id\" placeholder=\"Подключиться по id\" autoComplete={false} onSubmit={this.connectById}/>\r\n                    <Button onClick={this.createNewRoom}>Создать комнату</Button>\r\n                </div>\r\n                <div>\r\n                    {this.state.lobbyList.map(room => <DisplayRoom data={room} ws={this.ws} emitter={this.props.emitter} setPopupUntracked={this.props.setPopupUntracked} />)}\r\n                </div>\r\n            </div>\r\n            {this.state.roomId!==undefined&&this.state.roomId!==false?<Redirect to={`/g/${this.props.match.params.gameId}/${this.state.roomId}`}></Redirect>:null}\r\n        \r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nclass DisplayRoom extends React.Component {\r\n    constructor(props) {\r\n        super(props) \r\n        this.state={\r\n            connected: props.data.users.some(user => user.userId=== +localStorage.userId&&user.leave===false?true:false),\r\n        }\r\n    }\r\n    players = () => this.props.data.users.map((user) => <span><span>{user.userId}#</span><span>{user.userName}</span></span>)\r\n    \r\n    tags = () => {\r\n        let result = []\r\n        switch (this.props.data.gameId) {\r\n            case \"tictactoe\": result.push('Tic tac toe')\r\n                break\r\n            default: break\r\n        }\r\n        if (this.props.data.usePw) result.push('password')\r\n        result.push('public')\r\n        if (this.props.data.autostart) result.push('autostart')\r\n        return result.map((tag) => <div>{tag}</div>)\r\n    }\r\n\r\n    moreDetails = () => this.props.setPopupUntracked(\r\n        <Popup setPopupUntracked={this.props.setPopupUntracked}>\r\n            <RoomDetails ws={this.props.ws} data={this.props.data} disabled={true}  /> \r\n        </Popup>\r\n    )\r\n\r\n    leave = () => {\r\n        this.props.ws.send(JSON.stringify({type: 'leave', data: this.props.data.roomId}))\r\n        this.setState({connected: false})\r\n        this.props.emitter.emit('private', 'Вы вышли из комнаты #'+this.props.data.roomId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.item}>\r\n                {this.state.connected?\r\n                <div className={styles.connected}>\r\n                    <div>Вы уже присоединились к данной комнате!</div>\r\n                    <div onClick={this.reconnect}>\r\n                        <Link to={`/g/${this.props.data.gameId}/${this.props.data.roomId}`}>Вернуться</Link>\r\n                    </div>\r\n                    <div onClick={this.leave}>Покинуть</div>\r\n                </div>:null}\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <span>#{this.props.data.roomId}</span>\r\n                            <span>{this.props.data.name}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{this.props.data.users.length||0} / {this.props.data.max} : </span>\r\n                            <span>{this.players()}</span>\r\n                        </div>\r\n                        <div>{this.tags()}</div>\r\n                    </div>\r\n                    {this.state.connected?null:\r\n                    <div>\r\n                        <Button onClick={this.moreDetails}>\r\n                            <span>Подробнее</span>\r\n                            <SvgIconInfo />\r\n                        </Button>\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Lobby;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 4h13v2H8V4zm-5-.5h3v3H3v-3zm0 7h3v3H3v-3zm0 7h3v3H3v-3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgListCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgListCheck);\nexport default __webpack_public_path__ + \"static/media/list-check.3946db11.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Suspense, lazy } from 'react';\r\nimport RoomInfo from './RoomInfo';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {ReactComponent as SvgIconBtnToLobby} from '../../static/img/list-check.svg'\r\nimport styles from '../../static/css/room.module.css'\r\nimport {Button} from './FormElements'\r\n\r\nconst Tictactoe = lazy(() => import('../games/Tictactoe'))\r\n\r\nclass Room extends React.Component {\r\n  constructor(props) {\r\n    super(props) \r\n    this.state = {\r\n      roomInfo: undefined,\r\n    }\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    const ws = new WebSocket(\"ws://45.156.21.71:8083\")\r\n    ws.onopen = () => {\r\n      this.emitterUnsubPrivateChat = this.props.emitter.sub('privateChatSend', data => ws.send(JSON.stringify({type: 'chat', data: data})))\r\n      ws.send(JSON.stringify({type: 'connect', data: {roomId: this.props.match.params.roomId, token: localStorage.getItem('token')}}))\r\n      this.props.emitter.emit('displayGlobalChat', false)\r\n      this.emitterUnsubAction = this.props.emitter.sub('action', data => ws.send(JSON.stringify({type: 'game', data: data})))   \r\n    }\r\n    ws.onmessage = (e) => {\r\n        const messageParsed = JSON.parse(e.data)\r\n        const data = messageParsed.data\r\n        switch (messageParsed.type) {\r\n            case 'connect': \r\n              this.setState({roomInfo: data.roomInfo})\r\n              if(data.gameInfo!==undefined) this.setState({gameInfo: data.gameInfo})\r\n              this.props.emitter.emit('private', 'Подключение к комнате #'+this.state.roomInfo.roomId)\r\n              this.props.emitter.emit('privateChatHistory', data.chat)\r\n              break\r\n            case 'chat': this.props.emitter.emit('private', data)\r\n              break\r\n            case 'userJoin': this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: [...prevState.roomInfo.users, data]}}))\r\n              break\r\n            case 'userLeave': {\r\n              let newArrayUsers = []\r\n              if(this.state.roomInfo.started) {\r\n                this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, leave: true}))\r\n              } else this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):null)\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'userDisconnected':{\r\n              let newArrayUsers = []\r\n              this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, connected: false}))\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'userConnected':{\r\n              let newArrayUsers = []\r\n              this.state.roomInfo.users.forEach(user => user.userId!==data?newArrayUsers.push(user):newArrayUsers.push({...user, connected: true}))\r\n              this.setState((prevState) =>({roomInfo: {...prevState.roomInfo, users: newArrayUsers}}))\r\n              break\r\n            }\r\n            case 'start': this.setState((prevState) => ({roomInfo: {...prevState.roomInfo, started: true}, gameInfo: data}))\r\n              break\r\n            case 'finished': \r\n              this.props.emitter.emit('private', 'Матч завершён')\r\n              this.setState((prevState) => ({roomInfo: {...prevState.roomInfo, started: false}}))\r\n              break\r\n            case 'game': this.props.emitter.emit('game', data)\r\n              break\r\n            default:break\r\n        }\r\n    }\r\n    ws.onerror = (e) => {\r\n        this.props.emitter.emit('global', 'Ошибка соединения (Комната): ' + e)\r\n    }\r\n    ws.onclose = (e) => {\r\n      this.emitterUnsubAction()\r\n    }\r\n    this.ws=ws\r\n  }\r\n  componentWillUnmount() {\r\n    try {\r\n      this.emitterUnsubPrivateChat()\r\n      this.emitterUnsubAction()\r\n      this.ws.close()\r\n    } catch {}\r\n    this.props.emitter.emit('private', 'Выполнено отключение от комнаты')\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n      //Reconnect to next room by RoomId\r\n      if(this.props.match.params.roomId!==nextProps.match.params.roomId) this.ws.send(JSON.stringify({type: 'connect', data: {roomId: nextProps.match.params.roomId, token: localStorage.getItem('token')}}))\r\n  }\r\n\r\n  startTheGame = (e) => {\r\n    e.preventDefault()\r\n    this.ws.send(JSON.stringify({type: 'start'}))\r\n  }\r\n  getGameComponent() {\r\n    if(!this.state.roomInfo.started||this.state.gameInfo===undefined) return\r\n    switch (this.state.roomInfo.gameId) {\r\n      case \"tictactoe\": return <Tictactoe gameInfo={this.state.gameInfo} players={this.state.roomInfo.users} emitter={this.props.emitter} />\r\n      default: break\r\n    }\r\n  }\r\n  render() {\r\n      return (\r\n          <>\r\n            <div className={styles.room}>\r\n              {this.state.roomInfo===undefined?<Button onClick={()=>this.setState({redirectToLobby:true})}>В лобби</Button>\r\n              :\r\n                <>\r\n                  <div className={styles.match}>\r\n                    <Suspense>\r\n                      {this.getGameComponent()}\r\n                    </Suspense>\r\n                  </div>\r\n                  {this.state.roomInfo.started?\r\n                    <Link to={`/g/${this.props.match.params.gameId}`} className={styles.btnToLobby}>\r\n                      <SvgIconBtnToLobby />\r\n                      <span>В лобби</span>\r\n                    </Link>:\r\n                    <RoomInfo {...this.state.roomInfo} disabled={true}>\r\n                      {this.state.roomInfo.creator!== +localStorage.userId?null:\r\n                      <Button onClick={this.startTheGame}>Начать игру</Button>\r\n                      }\r\n                      <Button onClick={()=>this.setState({redirectToLobby:true})}>В лобби</Button>\r\n                    </RoomInfo>\r\n                  }\r\n                </>\r\n                }\r\n            </div>\r\n            {this.state.redirectToLobby?<Redirect to={`/g/${this.props.match.params.gameId}`}></Redirect>:null}\r\n          </>\r\n      )\r\n  }\r\n}\r\nexport default Room;","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport styles from '../../static/css/leftbar.module.css'\r\nimport {ReactComponent as SvgIconBtnDisplayLeftbar} from '../../static/img/list-check.svg'\r\n\r\n\r\nclass Left extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            leftbarDisplay: false\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <aside className={`${styles.leftbar}  ${this.state.leftbarDisplay?styles.leftbarDisplay:''}`}>\r\n                    <div className={styles.games}>\r\n                        <div>\r\n                            <Link to=\"/g/tictactoe\">\r\n                                <div>Крестики-нолики</div>\r\n                            </Link>\r\n                        </div>\r\n                        <div>\r\n                            <Link to=\"/g/sapper\">\r\n                                <div>Сапёр</div>\r\n                            </Link>\r\n                        </div>\r\n                        <div>\r\n                            <Link to=\"/g/reversi\">\r\n                                <div>Реверси</div>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </aside>\r\n                <div className={styles.leftbarStateBtn} onClick={() => this.setState(prevState => ({leftbarDisplay: prevState.leftbarDisplay?false:true}))}>\r\n                    <SvgIconBtnDisplayLeftbar />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Left;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.923 9.37c-.51-.205-.504-.51.034-.689l19.086-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.475.553-.717.07L11 13 1.923 9.37zm4.89-.2l5.636 2.255 3.04 6.082 3.546-12.41L6.812 9.17z\",\n  fill: \"#000\"\n});\n\nfunction SvgSendPlaneLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSendPlaneLine);\nexport default __webpack_public_path__ + \"static/media/send-plane-line.8e0f0a9f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.763 17H20V5H4v13.385L5.763 17zm.692 2L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455z\",\n  fill: \"#000\"\n});\n\nfunction SvgChat4Line(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChat4Line);\nexport default __webpack_public_path__ + \"static/media/chat-4-line.19aa6bbf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.95 7.95l-1.414 1.414L8 6.828 8 20H6V6.828L3.465 9.364 2.05 7.95 7 3l4.95 4.95zm10 8.1L17 21l-4.95-4.95 1.414-1.414 2.537 2.536L16 4h2v13.172l2.536-2.536 1.414 1.414z\",\n  fill: \"#000\"\n});\n\nfunction SvgArrowUpDownLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUpDownLine);\nexport default __webpack_public_path__ + \"static/media/arrow-up-down-line.b9f8ffc7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z\"\n});\n\nfunction SvgCloseFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCloseFill);\nexport default __webpack_public_path__ + \"static/media/close-fill.058af5b2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\nimport {ReactComponent as IconChatSend} from '../../static/img/send-plane-line.svg'\r\nimport {ReactComponent as IconChatDisplay} from '../../static/img/chat-4-line.svg'\r\nimport {ReactComponent as IconChatChange} from '../../static/img/arrow-up-down-line.svg'\r\nimport {ReactComponent as IconCross} from '../../static/img/close-fill.svg'\r\nimport {InputTextSubmit} from './FormElements'\r\n\r\nimport styles from '../../static/css/chat.module.css'\r\n\r\nclass Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      msgsG: [],\r\n      msgsP: [],\r\n      globalChat: true,\r\n      hidden: true,\r\n      prints: '',\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const ws = new WebSocket(\"ws://45.156.21.71:8081\")\r\n    if(localStorage.userName===undefined) localStorage.setItem('userName', 'Гость228')\r\n\r\n    ws.onopen = () => {\r\n    }\r\n    ws.onmessage = (e) => {\r\n        const messageParsed = JSON.parse(e.data)\r\n        const data = messageParsed.data\r\n        switch (messageParsed.type) {\r\n          case 'chat': this.globalMessage(data)\r\n            break\r\n          case 'history': \r\n            this.setState((state) => ({msgsG: state.msgsG.concat(data)}))\r\n            this.globalMessage('Добро пожаловать в чат!')\r\n            break\r\n          default: return\r\n        }\r\n    }\r\n    ws.onerror = (e) => {\r\n        this.globalMessage('Ошибка. Подключение потеряно')\r\n    }\r\n    this.ws=ws\r\n  }\r\n  componentWillUnmount = () => {\r\n    this.emitterUnsubGlobal()\r\n    this.emitterUnsubDisplayGlobalChat()\r\n    this.emitterUnsubPrivate()\r\n    this.emitterUnsubPrivateChatHistory()\r\n    this.ws.close()\r\n  }\r\n  componentDidMount() {\r\n    this.emitterUnsubGlobal = this.props.emitter.sub('global', (msgData) => this.globalMessage(msgData))\r\n    this.emitterUnsubPrivate = this.props.emitter.sub('private', (msgData) => this.privateMessage(msgData))\r\n    this.emitterUnsubDisplayGlobalChat = this.props.emitter.sub('displayGlobalChat', boolen => this.setState({globalChat: boolen}))\r\n    this.emitterUnsubPrivateChatHistory = this.props.emitter.sub('privateChatHistory', (data) => {\r\n      let msgsNewRoomArray = []\r\n      for (let msg of data) {\r\n        if(this.state.msgsP.some(elementOfMsgsP => elementOfMsgsP.date===msg.date?true:false)) {\r\n          break;\r\n        } else msgsNewRoomArray.push(msg)\r\n      }\r\n      this.setState((state) => ({msgsP: state.msgsP.concat(msgsNewRoomArray)}))\r\n      this.privateMessage('Добро пожаловать в чат!')\r\n    })\r\n  }\r\n\r\n  send = (e) => {\r\n    e.preventDefault();\r\n    const messageValue = e.target.inputMessage.value\r\n    if(messageValue==='') return\r\n    const messageSendObject = {\r\n      token: localStorage.getItem('token'),\r\n      text: messageValue,\r\n      userName: localStorage.getItem('userName'),\r\n    }\r\n    const messageDisplayObject = {\r\n      text: messageSendObject.text,\r\n      userName: messageSendObject.userName,\r\n      date: Date.now(),\r\n      userId: localStorage.getItem('userId'),\r\n    }\r\n    if (this.state.globalChat) {\r\n      this.ws.send(JSON.stringify({type: 'chat', data: messageSendObject}))\r\n      this.globalMessage(messageDisplayObject)\r\n    } else {\r\n      try {\r\n        this.props.emitter.emit('privateChatSend', messageSendObject)\r\n        this.privateMessage(messageDisplayObject)\r\n      } catch {return console.log('Отсутствует подключение к комнате')}\r\n    }\r\n    this.setState({prints: ''})\r\n  }\r\n\r\n  //display message in chat\r\n  globalMessage = msg => this.setState(prevState => ({msgsG: [...prevState.msgsG,msg]}))\r\n  privateMessage = msg => this.setState(prevState => ({msgsP: [...prevState.msgsP,msg]}))\r\n  displayChat = () => this.setState({hidden: this.state.hidden?false:true})\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <aside className={`${styles.chat} ${!this.state.hidden?styles.chatDisplay:''}`}>\r\n          <div>\r\n            <div>\r\n              <div onClick={() => this.setState({globalChat: this.state.globalChat?false:true})}>\r\n                <IconChatChange className={!this.state.globalChat?styles.global:null}/>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className={this.state.globalChat?styles.selected:null}>Глобальный чат</div>\r\n              <div className={!this.state.globalChat?styles.selected:null}>Приватный чат</div>\r\n            </div>\r\n            <div>\r\n              <div onClick={this.displayChat}>\r\n                <IconCross />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <Messages msgs={this.state.globalChat?this.state.msgsG:this.state.msgsP} />\r\n          </div>\r\n          <div>\r\n            <InputTextSubmit name=\"inputMessage\" \r\n              value={this.state.prints} \r\n              onChange={(e) => this.setState({prints: e.value})} \r\n              autoComplete={false}\r\n              placeholder=\"Напишите сообщение...\" \r\n              onSubmit={this.send} >\r\n              <IconChatSend />\r\n            </InputTextSubmit>\r\n          </div>\r\n        </aside>\r\n        <div className={styles.chatStateBtn} onClick={this.displayChat} >\r\n          <IconChatDisplay />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Messages extends React.Component {\r\n  render() {\r\n    return(\r\n      this.props.msgs.map((msg) =>\r\n      msg.userName!==undefined? \r\n      <div>\r\n        <span>{new Date(msg.date).toLocaleString(\"ru\", {minute: 'numeric', hour: 'numeric'})}  </span>\r\n        <span>{msg.userName}</span>\r\n        <span>: {msg.text}</span>\r\n      </div>:\r\n      <div className={styles.system}>\r\n        <span>\r\n          {msg}\r\n        </span>\r\n      </div>\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chat;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgMenuLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenuLine);\nexport default __webpack_public_path__ + \"static/media/menu-line.2e34dbd7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 18v3h-2v-3h-2v-2h6v2h-2zM5 18v3H3v-3H1v-2h6v2H5zm6-12V3h2v3h2v2H9V6h2zm0 4h2v11h-2V10zm-8 4V3h2v11H3zm16 0V3h2v11h-2z\",\n  fill: \"#000\"\n});\n\nfunction SvgSoundModuleLine(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoundModuleLine);\nexport default __webpack_public_path__ + \"static/media/sound-module-line.8f3b1bb1.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport {ReactComponent as IconMenu} from '../../static/img/menu-line.svg'\r\nimport {ReactComponent as IconSettings} from '../../static/img/sound-module-line.svg'\r\nimport styles from '../../static/css/topbar.module.css'\r\nimport {gameById} from '../../lang/Lang.js'\r\n\r\n\r\nclass Topbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayMenu: false,\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n        <header className={`${styles.topbar} ${this.state.displayMenu?styles.displayMenu:null}`}>\r\n          <nav>\r\n              <div onClick={()=>this.setState(prevState => ({displayMenu: prevState.displayMenu?false:true}))}>\r\n                <IconMenu />\r\n              </div>\r\n              <div onClick={() => this.setState({displayMenu: false})}>\r\n                <Link to=\"/\">Главная</Link>\r\n                <Link to={{search: \"popup=rules\"}}>Правила</Link>\r\n                <Link to={{search: \"popup=support\"}}>Помощь</Link>\r\n              </div>\r\n          </nav>\r\n          <Link to={{search: `popup=${this.props.match.params.gameId}`}}>\r\n            <span>Руководство: </span><span>{gameById(this.props.match.params.gameId)}</span>\r\n          </Link>\r\n          <Link to={{search: \"popup=settings\"}}>\r\n            <div>#{localStorage.getItem('userId')}</div>\r\n            <div>{localStorage.getItem('userName')}</div>\r\n            <div>\r\n              <IconSettings />\r\n            </div>\r\n          </Link>\r\n        </header>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Topbar;","import React, { Suspense } from 'react';\r\nimport {Switch, Route} from \"react-router-dom\";\r\n\r\nimport Lobby from './elements/Lobby';\r\nimport Room from './elements/Room';\r\nimport Leftbar from './elements/Leftbar';\r\n\r\nimport Chat from './elements/Chat';\r\nimport Topbar from './elements/Topbar';\r\n//import Alert from './elements/Alert'\r\nimport styles from '../static/css/app.module.css'\r\nimport Granim from 'granim'\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popupElement: null,\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        if (this.emitter===undefined) this.emitter = new Emitter()\r\n    }\r\n    componentDidMount() {\r\n        this.backGradient = new Granim({\r\n            element: '#grad-backg',\r\n            direction: 'left-right',\r\n            states : {\r\n                \"default-state\": {\r\n                    gradients: [\r\n                        ['#EF8D5B', '#EFB75B'],\r\n                        ['#EFC55B', '#EFDA5B'],\r\n                        ['#E8ED5A', '#EF815B'],\r\n                    ],\r\n                    transitionSpeed: 20000\r\n                }\r\n            }\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        this.backGradient.destroy()\r\n    }\r\n    setPopupUntracked = (popupElement) => {\r\n        this.setState({popupElement: popupElement})\r\n    }\r\n    render() {\r\n        return (\r\n            <>  \r\n                <Route path=\"/g/:gameId\" component={props=><Topbar {...props}/>} />\r\n                <div className={styles.page}>\r\n                    <Switch>\r\n                        <Route path=\"/g/:gameId/:roomId\" render={props=>\r\n                            <Room {...props} emitter={this.emitter} >\r\n                            </Room>\r\n                            } />\r\n                        <Route path=\"/g/:gameId\" render={props => \r\n                            <>\r\n                                <Leftbar {...props} />\r\n                                <Lobby {...props} emitter={this.emitter} setPopupUntracked={this.setPopupUntracked} >\r\n                                </Lobby>\r\n                            </>\r\n                        } />\r\n                            \r\n                    </Switch>\r\n                    <Chat emitter={this.emitter}/>\r\n                    \r\n                </div>\r\n                <canvas id=\"grad-backg\"/>\r\n                <Suspense>\r\n                {this.state.popupElement}\r\n                </Suspense>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass Emitter {\r\n    constructor() {\r\n        this.events = []                    \r\n    }\r\n    sub(eventName, fun) {\r\n        if (!Array.isArray(this.events[eventName])) this.events[eventName]=[]\r\n        this.events[eventName].push(fun)\r\n        return () => {\r\n            this.events[eventName] = this.events[eventName].filter(eventFn => fun !== eventFn);\r\n        }\r\n    }\r\n    emit(eventName, ...data) {\r\n         this.events[eventName].forEach(fun => fun.call(null, ...data))\r\n    }\r\n}\r\nexport default App;"],"sourceRoot":""}